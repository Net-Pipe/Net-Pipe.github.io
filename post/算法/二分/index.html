<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Net Pipe&#39;s Blog</title>  
  <meta name="description" content="简">
  <meta name="author" content="Net Pipe">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href='../../../index.xml' rel='alt' type='application/rss+xml' title='Net Pipe&#39;s Blog' />
  <link rel='shortcut icon' type='image/x-icon' href='../../../images/NetPipe.png' />

  
  <style>* {
  --primary-color: #005ab4;
  --link-color: #90cff9;
  --block-color: #f7faff;
  --radius: .2rem;
  --shadow: 0 1px 0 1px rgba(0, 0, 0, .05); }

* {
  margin: 0;
  padding: 0;
  outline: none;
  box-sizing: border-box;
  -webkit-text-size-adjust: 100%; }

::selection {
  background-color: #CCE2FF;
  color: rgba(0, 0, 0, 0.87); }

::-webkit-scrollbar {
  width: 7px;
  height: 7px; }

::-webkit-scrollbar-thumb {
  border-radius: 10px;
  background: #c3c3c33b; }
  ::-webkit-scrollbar-thumb:hover {
    background: #c3c3c37b; }

::-webkit-scrollbar-track {
  border-radius: 10px; }

a {
  color: var(--primary-color);
  text-decoration: none; }
  a:hover {
    text-decoration: underline;
    text-decoration-color: var(--primary-color); }

ul {
  list-style: circle;
  padding-left: 1.2rem; }
  ul li {
    margin: .3rem 0; }
    ul li::marker {
      font-size: large; }

ol {
  padding-left: 2.7rem; }
  ol li {
    margin: .3rem 0; }

.card {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background-color: white;
  background-color: var(--block-color);
  padding: .1rem .5rem;
  margin: .3rem 0;
  display: inline-block;
  font-size: 12.8px;
  font-weight: bold; }

@font-face {
  font-family: 'Fantasque Sans Mono';
  src: url("/fonts/FantasqueSansMono-Regular.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: normal;
  font-weight: bold;
  src: url("/fonts/FantasqueSansMono-Bold.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: italic;
  src: url("/fonts/FantasqueSansMono-Italic.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: italic;
  font-weight: bold;
  src: url("/fonts/FantasqueSansMono-BoldItalic.woff2") format("woff2"); }

body, code, input, button, textarea {
  font-family: 'Fantasque Sans Mono', sans-serif; }

aside {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background-color: white;
  padding: 1rem; }

aside.left .author {
  text-align: center; }
  aside.left .author img {
    width: 6rem;
    height: 6rem;
    border-radius: 1rem; }
  aside.left .author h2.name {
    margin: .5rem; }

aside.left .data {
  display: flex;
  text-align: center; }
  aside.left .data .data-box {
    flex: 0 0 50%;
    display: inline-block; }
    aside.left .data .data-box:first-of-type {
      border-right: 1px solid black; }

aside.left .social {
  margin: 1rem 0; }
  aside.left .social .box {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background-color: white;
    background-color: var(--block-color);
    margin-top: .5rem;
    padding: .3rem .5rem;
    font-size: 18px;
    position: relative; }
    aside.left .social .box img {
      vertical-align: text-bottom;
      width: 20px;
      height: 20px;
      margin-right: 8px; }

aside.left .search {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 35px;
  right: 0;
  height: 30px; }
  aside.left .search input {
    display: inline;
    width: 100%;
    height: 100%;
    border: none;
    font-size: 17px;
    background-color: transparent; }

.core > :first-child,
.core > :first-child > :first-child,
.core > :first-child > :first-child > :first-child {
  margin-top: 0 !important; }

.core > :last-child,
.core > :last-child > :last-child,
.core > :last-child > :last-child > :last-child {
  margin-bottom: 0 !important; }

.core::-webkit-scrollbar {
  width: 0px !important;
  height: 0px !important; }

.core.posts, .core.list {
  margin: 0 !important;
  padding: 1rem; }

.core.posts .title h1, .core.posts .title h2, .core.posts .title h3, .core.posts .title h4, .core.posts .title h5, .core.posts .title h6 {
  font-weight: normal;
  text-shadow: 0 0; }

.core.posts .time {
  line-height: 20px; }
  .core.posts .time img {
    vertical-align: text-bottom; }

.core.posts .post {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background-color: white;
  transition: all .15s;
  padding: 1rem;
  margin: 1rem 0; }
  .core.posts .post:hover {
    cursor: pointer;
    background-color: var(--block-color); }

.core.posts > :first-child {
  margin-top: 0; }

.core.posts > :last-child {
  margin-bottom: 0; }

.core.posts .pages {
  display: flex;
  flex-flow: row nowrap;
  justify-content: center;
  font-size: 18px; }
  .core.posts .pages .box {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background-color: white;
    color: var(--primary-color);
    margin: 0 .5rem;
    width: 2rem;
    height: 2rem;
    line-height: 2rem;
    text-align: center; }
    .core.posts .pages .box:not(.disabled) {
      transition: all .15s; }
      .core.posts .pages .box:not(.disabled):hover {
        cursor: pointer;
        background-color: var(--block-color); }
  .core.posts .pages .box.prev {
    width: 5rem;
    margin-left: 0; }
  .core.posts .pages .box.next {
    width: 5rem;
    margin-right: 0; }
  .core.posts .pages .box.eldivpsis {
    width: 3rem; }
  .core.posts .pages .box.disabled {
    color: black; }

.core.list .post-item {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background-color: white;
  transition: all .15s;
  height: 2.3rem;
  line-height: 2.3rem;
  margin: .3rem 0; }
  .core.list .post-item:hover {
    cursor: pointer;
    background-color: var(--block-color); }
  .core.list .post-item img {
    width: 1.2rem;
    height: 1.2rem;
    margin: 0 .6rem;
    vertical-align: sub; }
  .core.list .post-item span {
    position: absolute; }
  .core.list .post-item:first-of-type {
    height: 3rem;
    line-height: 3.2rem;
    font-size: 1.2rem;
    margin-top: 0;
    margin-bottom: .5rem;
    padding-left: 1rem; }
    .core.list .post-item:first-of-type img {
      width: 1.4rem;
      height: 1.4rem; }
  .core.list .post-item:last-of-type {
    border: none;
    margin-bottom: 0; }

.core.markdown {
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background-color: white;
  padding: 1rem; }
  .core.markdown h2, .core.markdown h2 .katex {
    font-size: 24px; }
  .core.markdown h3, .core.markdown h3 .katex {
    font-size: 20px; }
  .core.markdown h1, .core.markdown h2, .core.markdown h3, .core.markdown h4, .core.markdown h5, .core.markdown h6 {
    font-weight: normal;
    text-shadow: 0 0; }
    .core.markdown h1 .anchor, .core.markdown h2 .anchor, .core.markdown h3 .anchor, .core.markdown h4 .anchor, .core.markdown h5 .anchor, .core.markdown h6 .anchor {
      color: transparent; }
    .core.markdown h1:hover .anchor, .core.markdown h2:hover .anchor, .core.markdown h3:hover .anchor, .core.markdown h4:hover .anchor, .core.markdown h5:hover .anchor, .core.markdown h6:hover .anchor {
      color: var(--primary-color); }
  .core.markdown strong {
    font-weight: normal;
    text-shadow: 0 0; }
  .core.markdown blockquote {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background-color: white;
    background-color: var(--block-color);
    padding: .5rem 1rem;
    margin: .5rem 0; }
    .core.markdown blockquote > :first-child,
    .core.markdown blockquote > :first-child > :first-child,
    .core.markdown blockquote > :first-child > :first-child > :first-child {
      margin-top: 0 !important; }
    .core.markdown blockquote > :last-child,
    .core.markdown blockquote > :last-child > :last-child,
    .core.markdown blockquote > :last-child > :last-child > :last-child {
      margin-bottom: 0 !important; }
  .core.markdown img:not(.alt) {
    display: block;
    margin: 0 auto;
    max-width: 100%; }
  .core.markdown code {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background-color: white;
    user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    padding: 1px 2px;
    background-color: var(--block-color); }
  .core.markdown pre {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background-color: white;
    user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    background-color: var(--block-color) !important;
    margin: .5rem 0;
    padding: .5rem 1rem;
    overflow: auto hidden;
    line-height: 1.3rem; }
    .core.markdown pre code {
      border: none;
      background: none !important;
      box-shadow: none;
      padding: 0; }
  .core.markdown table {
    margin: .5rem 0;
    border-spacing: 0 5px;
    -webkit-overflow-scrolling: touch; }
    .core.markdown table th, .core.markdown table td {
      padding: .3rem 16px;
      font-weight: normal; }
    .core.markdown table tr {
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background-color: white;
      background-color: var(--block-color); }

html, body, main {
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  height: 100%;
  overflow: hidden; }

html {
  background-color: #f7f7f7; }

main {
  display: flex;
  margin: 0 auto;
  max-width: 80rem; }

.left, .right, .core {
  overflow: hidden auto;
  margin: 1rem; }

.left {
  flex: 0 0 16rem;
  margin-right: 0; }

.right {
  flex: 0 0 16rem;
  margin-left: 0; }

.core {
  flex-grow: 1; }

details {
  margin: .3rem 0; }
  details summary {
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background-color: white;
    background-color: var(--block-color);
    font-size: 12.8px;
    font-weight: bold;
    padding: .3rem; }
    details summary::marker {
      content: '';
      font-size: 0; }
    details summary img.alt {
      width: 18px;
      height: 18px;
      margin-right: .2rem;
      vertical-align: sub;
      transition: .2s all; }
  details ::-webkit-details-marker,
  details ::-moz-list-bullet {
    content: '' !important;
    font-size: 0 !important; }
  details:focus {
    outline: none; }
  details[open] > summary {
    margin-bottom: 0; }
    details[open] > summary img.alt {
      transform: rotate(90deg); }
</style>
  

  <script src="../../../js/jquery.min.js"></script>
</head>




<body>
  <main>
  
<aside class="left">
  <div class='author'>
    <a href="../../../"><img src='../../../images/NetPipe.png'></a>
    <h2 class='name'>Net Pipe</h2>
  </div>

  <div class="data">
    
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    <div class='data-box'>
      <h3>10</h3>
      <span>Posts</span>
    </div>
    <div class='data-box'>
      <h3>29,565</h3>
      <span>Words</span>
    </div>
  </div>

  <div class="social">
    <a>
      <div class="box">
        <img src="../../../images/search.svg"/>
        <div class="search">
          <input type="text" placeholder="Search" id="search-key" maxlength="64" data-hotkeys="s/" onkeydown="keyup_submit(event);" />
        </div>
      </div>
      <script>
        function keyup_submit(e){ 
        var evt = window.event || e; 
          if (evt.keyCode == 13) {
            window.location.href = '/s?wd=' + document.getElementById("search-key").value;
          }
        }
      </script>
    </a>
    <a href="../../../">
      <div class="box"><img src="../../../images/home.svg"/><span>Home</span></div>
    </a>
    <a href="../../../post/">
      <div class="box"><img src="../../../images/posts.svg"/><span>Posts</span></div>
    </a>
    <a type="application/rss+xml" href="../../../index.xml">
      <div class="box"><img src="../../../images/rss.svg"/><span>RSS</span></div>
    </a>
  </div>

  
  <div class="card">
    <a href="../../../categories/%E6%95%B0%E5%AD%A6/">数学</a>
  </div>
  
  <div class="card">
    <a href="../../../categories/%E6%95%B0%E5%88%97/">数列</a>
  </div>
  
  <div class="card">
    <a href="../../../categories/%E4%B8%87%E8%83%BD%E5%85%AC%E5%BC%8F/">万能公式</a>
  </div>
  
  <div class="card">
    <a href="../../../categories/%E4%B8%89%E8%A7%92%E5%87%BD%E6%95%B0/">三角函数</a>
  </div>
  
  <div class="card">
    <a href="../../../categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>
  

</aside>

  
<article class='core markdown'>
<div class='content'>
  
  <h1>二分</h1>
  <span class="time">
  <img class='alt' src="../../../images/time.svg"></img>
  Jan 11, 2021
</span>
  <span class="categories">

  <div class='card'>
    <a href="../../../categories/%e7%ae%97%e6%b3%95/">算法</a>
  </div>

</span>
  <div class="description">
  
    据说只有 10% 的程序员能写对二分.
  
</div>
  <br>
  

  <h2 id="简介">简介 <a class="anchor" href="#%e7%ae%80%e4%bb%8b">¶</a></h2><p>玩个游戏.</p>
<ul>
<li>想一个 $1000$ 以内的正整数 $n$.</li>
<li>每次我给出一个整数 $x$，告诉我「$n&gt;x$」「$n&lt;x$」或「$n=x$」.</li>
</ul>
<p>我能保证在 $10$ 次以内猜到它.</p>
<p>首先我猜 $x=500$. 除了正好猜中以外，我能把 $n$ 的范围缩小一半.</p>
<ul>
<li>$n&gt;x\intro n\in[501,1000]$</li>
<li>$n&lt;x\intro n\in[1,499]$</li>
</ul>
<p>然后如法炮制，重复给出可行范围的中间数，每次都能把范围折半. 由于 $\log_2{1000}&lt;10$，最多 $10$ 次就能确定 $n$.</p>

<details >
  <summary><img class='alt' src='../../../images/right.svg'>例</summary>
  <blockquote><p>$n=324$：</p>
<ol>
<li>$x=500$. $n&lt;x\intro n\in[1,499]$.</li>
<li>$x=250$. $n&gt;x\intro n\in[251,499]$.</li>
<li>$x=375$. $n&lt;x\intro n\in[251,375]$.</li>
<li>$x=313$. $n&gt;x\intro n\in[313,375]$.</li>
<li>$x=344$. $n&lt;x\intro n\in[313,344]$.</li>
<li>$x=328$. $n&lt;x\intro n\in[313,328]$.</li>
<li>$x=320$. $n&gt;x\intro n\in[320,328]$.</li>
<li>$x=324$. $n=x$.</li>
</ol>
</blockquote>
</details>
<h2 id="条件">条件 <a class="anchor" href="#%e6%9d%a1%e4%bb%b6">¶</a></h2><p>数组须呈现广义上的「单调性」.</p>
<p>将数组 $a$ 对半分，前段都不满足 $P$，后段都满足 $P$，则可用二分算法确定分割点，进而确定「第一个满足 $P$ 的元素」.</p>
<h2 id="原理">原理 <a class="anchor" href="#%e5%8e%9f%e7%90%86">¶</a></h2><p>查找数组 $a$（长度 $n$）中第一个满足条件 $P$ 的元素：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">bool</span> <span style="color:#d35400">check</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">k</span>) {
	<span style="color:#95a5a6">/* 返回 a[k] 是否满足条件 P */</span>
}

<span style="color:#00979d">int</span> <span style="color:#d35400">binQuery</span>() {
	<span style="color:#00979d">int</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">0</span>, <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">n</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>;
	<span style="color:#728e00">while</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span> <span style="color:#728e00">&lt;</span> <span style="color:#434f54">r</span>) {
		<span style="color:#00979d">int</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
		<span style="color:#728e00">if</span> (<span style="color:#434f54">check</span>(<span style="color:#434f54">a</span>[<span style="color:#434f54">m</span>])) <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
		<span style="color:#728e00">else</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
	}
	<span style="color:#728e00">return</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">r</span>];
}
</code></pre></div><h2 id="q--a">Q &amp; A <a class="anchor" href="#q--a">¶</a></h2><p>作者列出了大家在学习二分算法中的一些疑问和解答，供参考学习.</p>
<blockquote>
<p><strong>Q</strong>：为何循环的条件是 $l+1&lt;r$？我在其他参考书上看的是 $l&lt;r$.</p>
<p><strong>A</strong>：在我的版本中，当 $l+1=r$ 时，$a[l]$ 或 $a[r]$ 就是要找的分割点，此时应退出循环. 故循环能进行的条件是 $l+1&lt;r$.</p>
</blockquote>
<blockquote>
<p><strong>Q</strong>：针对一段数组区间，比如对 $a[L\cdots R]$ 进行二分查找怎么办？</p>
<p><strong>A</strong>：在程序开头令 $l=L-1,r=R+1$，此举的目的是保证 $m=\left\lfloor\dfrac{ l+r}{2}\right\rfloor$ 能取到范围端点 $L$ 或 $R$.</p>
</blockquote>
<blockquote>
<p><strong>Q</strong>：$m$ 会溢出 $[L,R]$ 的范围吗？</p>
<p><strong>A</strong>：不会. 那时已因不满足 $l+1&lt;r$ 而退出循环了.</p>
</blockquote>
<blockquote>
<p><strong>Q</strong>：如果反过来，数组 $a$ 的前段满足 $P$，后段不满足 $P$ 怎么办？</p>
<p><strong>A</strong>：我们把两种情况都讨论一遍.</p>
<p>若前段（$a[1\cdots l]$）不满足 $P$，后段（$a[r\cdots n]$）满足 $P$：</p>
<ul>
<li>$a[l]$ 总不满足 $P$，$a[r]$ 总满足 $P$.</li>
<li>因此当 $a[m]$ 满足 $P$ 时，应令 $r=m$，否则令 $l=m$.</li>
<li>第一个满足 $P$ 的是 $a[r]$.</li>
</ul>
<p>若前段（$a[1\cdots l]$）满足 $P$，后段（$a[r\cdots n]$）不满足 $P$：</p>
<ul>
<li>$a[l]$ 总满足 $P$，$a[r]$ 总不满足 $P$.</li>
<li>因此当 $a[m]$ 满足 $P$ 时，应令 $l=m$，否则令 $r=m$.</li>
<li>最后一个满足 $P$ 的是 $a[l]$.</li>
</ul>
</blockquote>
<h2 id="整数域上的二分">整数域上的二分 <a class="anchor" href="#%e6%95%b4%e6%95%b0%e5%9f%9f%e4%b8%8a%e7%9a%84%e4%ba%8c%e5%88%86">¶</a></h2><p>在单调递增数组 $a$（长度 $n$）中查找第一个 $\ge x$ 的数：</p>
<p>前段 $&lt;x$，后段 $\ge x$，因此 $a[m]\ge x$ 时应令 $r=m$，最终答案是 $a[r]$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">int</span> <span style="color:#d35400">binQuery</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">x</span>) {
    <span style="color:#00979d">int</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">0</span>, <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">n</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>;
    <span style="color:#728e00">while</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span> <span style="color:#728e00">&lt;</span> <span style="color:#434f54">r</span>) {
        <span style="color:#00979d">int</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
        <span style="color:#728e00">if</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">m</span>] <span style="color:#728e00">&gt;=</span> <span style="color:#434f54">x</span>) <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
        <span style="color:#728e00">else</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
    }
    <span style="color:#728e00">return</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">r</span>];
}
</code></pre></div><p>在单调递增数组 $a$（长度 $n$）中查找最后一个 $\le x$ 的数：</p>
<p>前段 $\le x$，后段 $&gt; x$，因此 $a[m]\le x$ 时应令 $l=m$，最终答案是 $a[l]$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">int</span> <span style="color:#d35400">binQuery</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">x</span>) {
    <span style="color:#00979d">int</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">0</span>, <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">n</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>;
    <span style="color:#728e00">while</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span> <span style="color:#728e00">&lt;</span> <span style="color:#434f54">r</span>) {
        <span style="color:#00979d">int</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
        <span style="color:#728e00">if</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">m</span>] <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">x</span>) <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
        <span style="color:#728e00">else</span> <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
    }
    <span style="color:#728e00">return</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">l</span>];
}
</code></pre></div><h2 id="实数域上的二分">实数域上的二分 <a class="anchor" href="#%e5%ae%9e%e6%95%b0%e5%9f%9f%e4%b8%8a%e7%9a%84%e4%ba%8c%e5%88%86">¶</a></h2><p>实数域上的二分需要指定精度 $eps$，以 $l+eps&lt;r$ 为循环条件.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">while</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">eps</span> <span style="color:#728e00">&lt;</span> <span style="color:#434f54">r</span>) {
    <span style="color:#00979d">double</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
    <span style="color:#728e00">if</span> (<span style="color:#434f54">check</span>(<span style="color:#434f54">m</span>)) <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
    <span style="color:#728e00">else</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
}
</code></pre></div><p>此外还可采用固定次数的二分. 此方法得到的答案精度通常更高.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">0</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;</span> <span style="color:#8a7b52">1000</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
    <span style="color:#00979d">double</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
    <span style="color:#728e00">if</span> (<span style="color:#434f54">check</span>(<span style="color:#434f54">m</span>)) <span style="color:#434f54">r</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
    <span style="color:#728e00">else</span> <span style="color:#434f54">l</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span>;
}
</code></pre></div>
</div>

</article>

  
<aside class="right">
  <h2>Notice</h2>
<ul>
<li>网站架构变更，部分文章正在重构中.</li>
<li>评论区因安全问题被暂停.</li>
</ul>

<br>
  
  <h2>TOC</h2>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#条件">条件</a></li>
    <li><a href="#原理">原理</a></li>
    <li><a href="#q--a">Q &amp; A</a></li>
    <li><a href="#整数域上的二分">整数域上的二分</a></li>
    <li><a href="#实数域上的二分">实数域上的二分</a></li>
  </ul>
</nav>
  </div>
  
</aside>

  </main>
</body>

<script src="../../../js/jquery.min.js"></script>



<link rel="stylesheet" href="../../../js/katex/katex.min.css">
<script src="../../../js/katex/katex.min.js"></script>
<script src="../../../js/katex/auto-render.min.js"></script>

<script>
function renderTex() {
  renderMathInElement(document.body, {
    trust: true,
    delimiters: [
      { left: "$$", right: "$$", display: true },
      { left: "$", right: "$", display: false }
    ],
    macros: {
      
      "\\d": "\\text{d}",
      "\\zh": "\\footnotesize \\ ",
      "\\en": "\\normalsize \\ ",
      "\\su": "\\displaystyle",
      "\\eq": "\\Longleftrightarrow",
      "\\intro": "\\Longrightarrow",
      "\\mathring": "\\overset\{\\normalsizeₒ\}",
      "\\arccot": "\\text\{arccot\} \\, ",
      "\\xor": "\\text\{xor\} \\, ",
      "\\mex": "\\text\{mex\} \\, ",
      "\\wave": "\\raisebox\{-0.1em\}\{\\small～\}",
    }
  });
}
document.addEventListener("DOMContentLoaded", function() {
  renderTex();
});
$('.language-latex').each(function(id, el, arr) {
  function toText(text) { 
    var temp = document.createElement("div"); 
    temp.innerHTML = text; 
    var output = temp.innerText || temp.textContent; 
    temp = null; 
    return output; 
  } 
  tex = toText(el.innerHTML);
  el.parentElement.outerHTML = '<div>$$' + tex + '$$</div>';
});
</script>

<script>
  $(window).scroll(function(e) {
    if ($('main').css('display') == 'flex')
      $(this).scrollTop(0);
  });
  document.body.scroll="no";
</script>


</html>