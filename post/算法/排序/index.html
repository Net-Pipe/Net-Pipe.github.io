<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Net Pipe&#39;s Blog</title>  
  <meta name="description" content="简">
  <meta name="author" content="Net Pipe">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href='../../../index.xml' rel='alt' type='application/rss+xml' title='Net Pipe&#39;s Blog' />
  <link rel='shortcut icon' type='image/x-icon' href='../../../images/NetPipe.png' />

  
  <style>* {
  --aside-width: 16rem;
  --max-width: 80rem;
  --link-color: #003366;
  --hover-color: #F6F8FA;
  --border-color: #CCCCCC;
  --shadow: rgba(0, 0, 0, 0.16) 0px 1px 4px;
  --border: 1px solid var(--border-color);
  --radius: 3px; }

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  outline: none; }

::selection {
  background-color: #CCE2FF;
  color: rgba(0, 0, 0, 0.87); }

::-webkit-scrollbar {
  width: 7px;
  height: 7px; }

::-webkit-scrollbar-thumb {
  border-radius: 10px;
  background: #c3c3c33b; }
  ::-webkit-scrollbar-thumb:hover {
    background: #c3c3c37b; }

::-webkit-scrollbar-track {
  border-radius: 10px; }

a {
  text-decoration: none;
  color: var(--link-color); }

a:focus, a:hover {
  outline: none;
  text-decoration: underline; }

a.alt, a.silent {
  color: black; }

a.alt:focus,
a.alt:hover,
a.alt:focus > *,
a.alt:hover > * {
  color: var(--link-color);
  text-decoration: underline; }

a.silent:focus,
a.silent:hover,
a.silent:focus > *,
a.silent:hover > * {
  color: black;
  text-decoration: none; }

ul {
  list-style: circle;
  padding-left: 1.7rem; }
  ul li {
    margin: .3rem 0; }
    ul li::marker {
      font-size: large; }

ol {
  padding-left: 2.2rem; }
  ol li {
    margin: .3rem 0; }

@font-face {
  font-family: 'Fantasque Sans Mono';
  src: url("/fonts/FantasqueSansMono-Regular.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: normal;
  font-weight: bold;
  src: url("/fonts/FantasqueSansMono-Bold.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: italic;
  src: url("/fonts/FantasqueSansMono-Italic.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: italic;
  font-weight: bold;
  src: url("/fonts/FantasqueSansMono-BoldItalic.woff2") format("woff2"); }

body, code, input, button, textarea {
  font-family: 'Fantasque Sans Mono', sans-serif; }

html, body, main {
  height: 100%;
  overflow: hidden; }

body {
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  background: url(/images/BackGround.jpg) 0/cover fixed;
  margin: 0 auto;
  max-width: var(--max-width); }

main {
  display: flex;
  position: relative; }

aside {
  flex: 0 0 var(--aside-width);
  padding: 1rem;
  overflow: hidden auto; }
  aside > :first-child,
  aside > :first-child > :first-child,
  aside > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  aside > :last-child,
  aside > :last-child > :last-child,
  aside > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }

article {
  flex-grow: 1;
  padding: 1rem;
  overflow: hidden auto; }
  article .post-toc {
    display: none; }

.tag-card {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: rgba(255, 255, 255, 0.2) !important;
  position: relative;
  transition: all .15s;
  display: inline-block;
  padding: .1rem .5rem;
  margin: .3rem 0; }
  .tag-card:hover {
    cursor: pointer;
    background: rgba(255, 255, 255, 0.8) !important; }
  .tag-card a {
    font-size: 13px;
    text-shadow: 0 0; }

.post-meta img {
  width: 16px;
  height: 16px;
  display: inline-block !important;
  vertical-align: text-bottom; }

h2.alt {
  margin: .5rem 0;
  font-size: 22px; }
  h2.alt img.alt {
    width: 20px;
    height: 20px;
    vertical-align: text-top;
    margin-right: 0.5rem; }

.content h2.alt img.alt {
  display: none; }

aside {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: rgba(255, 255, 255, 0.2) !important;
  position: relative;
  margin: 1rem; }
  aside > :first-child,
  aside > :first-child > :first-child,
  aside > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  aside > :last-child,
  aside > :last-child > :last-child,
  aside > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }

aside.meta {
  margin-right: 0;
  order: 1; }
  aside.meta .author {
    text-align: center; }
    aside.meta .author img {
      transition: all 0.2s;
      width: 6rem;
      height: 6rem;
      border-radius: 1rem; }
      aside.meta .author img:hover {
        transform: perspective(1px) scale(1.04); }
    aside.meta .author h2.name {
      margin: .5rem; }
  aside.meta .data {
    display: flex;
    text-align: center; }
    aside.meta .data .data-box {
      flex: 0 0 50%;
      display: inline-block; }
      aside.meta .data .data-box:first-of-type {
        border-right: 1px solid black; }
  aside.meta .social {
    margin: 1rem 0; }
    aside.meta .social .social-box {
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
      border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background: rgba(255, 255, 255, 0.2) !important;
      position: relative;
      transition: all .15s;
      margin-top: .5rem;
      padding: .3rem .5rem;
      font-size: 18px; }
      aside.meta .social .social-box:hover {
        cursor: pointer;
        background: rgba(255, 255, 255, 0.8) !important; }
      aside.meta .social .social-box img {
        vertical-align: text-bottom;
        width: 20px;
        height: 20px;
        margin-right: 8px; }
  aside.meta .search {
    position: absolute;
    top: 0;
    bottom: 0;
    left: 35px;
    right: 0;
    height: 30px; }
    aside.meta .search input {
      display: inline;
      width: 100%;
      height: 100%;
      border: none;
      font-size: 17px;
      background-color: transparent; }

aside.toc {
  margin-left: 0;
  order: 3; }

article {
  order: 2; }

article.posts .post {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: rgba(255, 255, 255, 0.2) !important;
  position: relative;
  transition: all .15s;
  padding: 1rem;
  margin: 1rem 0; }
  article.posts .post:hover {
    cursor: pointer;
    background: rgba(255, 255, 255, 0.8) !important; }
  article.posts .post > :first-child,
  article.posts .post > :first-child > :first-child,
  article.posts .post > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  article.posts .post > :last-child,
  article.posts .post > :last-child > :last-child,
  article.posts .post > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }
  article.posts .post .post-title {
    font-size: 20px; }

article.posts .pagination {
  width: 100%;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  margin-top: 1rem; }
  article.posts .pagination div.pagination-box {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    color: var(--link-color);
    margin: 0 .5rem;
    width: 2rem;
    height: 2rem;
    line-height: 2rem;
    float: left;
    text-align: center;
    vertical-align: middle; }
    article.posts .pagination div.pagination-box:not(.disabled) {
      transition: all .15s; }
      article.posts .pagination div.pagination-box:not(.disabled):hover {
        cursor: pointer;
        background: rgba(255, 255, 255, 0.8) !important; }
  article.posts .pagination div.prev {
    width: 5rem;
    margin-left: 0; }
  article.posts .pagination div.next {
    width: 5rem;
    margin-right: 0; }
  article.posts .pagination div.pagination-eldivpsis {
    width: 3rem; }
  article.posts .pagination div.disabled {
    color: black; }

article.posts > :first-child,
article.posts > :first-child > :first-child,
article.posts > :first-child > :first-child > :first-child {
  margin-top: 0 !important; }

article.posts > :last-child,
article.posts > :last-child > :last-child,
article.posts > :last-child > :last-child > :last-child {
  margin-bottom: 0 !important; }

article.list .post-item {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: rgba(255, 255, 255, 0.2) !important;
  position: relative;
  transition: all .15s;
  height: 2.3rem;
  line-height: 2.3rem;
  margin: .3rem 0; }
  article.list .post-item:hover {
    cursor: pointer;
    background: rgba(255, 255, 255, 0.8) !important; }
  article.list .post-item img {
    width: 1.2rem;
    height: 1.2rem;
    margin: 0 .6rem;
    vertical-align: sub; }
  article.list .post-item span {
    position: absolute; }
  article.list .post-item:first-of-type {
    height: 3rem;
    line-height: 3.2rem;
    font-size: 1.2rem;
    margin-top: 0;
    margin-bottom: .5rem; }
    article.list .post-item:first-of-type img {
      width: 1.4rem;
      height: 1.4rem; }
  article.list .post-item:last-of-type {
    border: none;
    margin-bottom: 0; }

article.markdown .content {
  border-top-left-radius: var(--radius);
  border-top-right-radius: var(--radius);
  border-bottom-left-radius: var(--radius);
  border-bottom-right-radius: var(--radius);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  background: rgba(255, 255, 255, 0.2) !important;
  position: relative;
  padding: 1rem; }
  article.markdown .content > :first-child,
  article.markdown .content > :first-child > :first-child,
  article.markdown .content > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  article.markdown .content > :last-child,
  article.markdown .content > :last-child > :last-child,
  article.markdown .content > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }
  article.markdown .content h1, article.markdown .content h1 .katex {
    font-size: 28px; }
  article.markdown .content h2, article.markdown .content h2 .katex {
    font-size: 24px; }
  article.markdown .content h1, article.markdown .content h2, article.markdown .content h3, article.markdown .content h4, article.markdown .content h5, article.markdown .content h6 {
    margin: .5rem 0;
    font-weight: normal; }
    article.markdown .content h1 .anchor, article.markdown .content h2 .anchor, article.markdown .content h3 .anchor, article.markdown .content h4 .anchor, article.markdown .content h5 .anchor, article.markdown .content h6 .anchor {
      opacity: 0; }
    article.markdown .content h1:hover .anchor, article.markdown .content h1:focus .anchor, article.markdown .content h2:hover .anchor, article.markdown .content h2:focus .anchor, article.markdown .content h3:hover .anchor, article.markdown .content h3:focus .anchor, article.markdown .content h4:hover .anchor, article.markdown .content h4:focus .anchor, article.markdown .content h5:hover .anchor, article.markdown .content h5:focus .anchor, article.markdown .content h6:hover .anchor, article.markdown .content h6:focus .anchor {
      opacity: 1; }
  article.markdown .content p {
    margin: .5rem 0;
    line-height: 1.3rem; }
  article.markdown .content strong {
    font-weight: normal;
    text-shadow: 0 0; }
  article.markdown .content img:not(.alt, .vemoji) {
    display: block;
    margin: 0 auto;
    max-width: 100%; }
  article.markdown .content blockquote {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    background: rgba(255, 255, 255, 0.5) !important;
    margin: .5rem 0;
    padding: .5rem 1rem; }
    article.markdown .content blockquote > :first-child,
    article.markdown .content blockquote > :first-child > :first-child,
    article.markdown .content blockquote > :first-child > :first-child > :first-child {
      margin-top: 0 !important; }
    article.markdown .content blockquote > :last-child,
    article.markdown .content blockquote > :last-child > :last-child,
    article.markdown .content blockquote > :last-child > :last-child > :last-child {
      margin-bottom: 0 !important; }
  article.markdown .content code {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    padding: 1px 2px; }
  article.markdown .content pre {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    background: rgba(255, 255, 255, 0.5) !important;
    user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    margin: .5rem 0;
    padding: .5rem 1rem;
    overflow: auto hidden;
    line-height: 1.3rem; }
    article.markdown .content pre code {
      border: none;
      background: none !important;
      box-shadow: none;
      padding: 0; }
  article.markdown .content table {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    margin: .5rem 0;
    overflow: auto;
    border-spacing: 0;
    display: block;
    -webkit-overflow-scrolling: touch; }
    article.markdown .content table th, article.markdown .content table td {
      padding: .3rem 16px;
      font-weight: normal;
      white-space: nowrap; }
  article.markdown .content .book-columns {
    display: flex;
    flex-wrap: wrap; }
    article.markdown .content .book-columns .markdown-inner {
      flex: 1 1; }
      article.markdown .content .book-columns .markdown-inner > :first-child,
      article.markdown .content .book-columns .markdown-inner > :first-child > :first-child,
      article.markdown .content .book-columns .markdown-inner > :first-child > :first-child > :first-child {
        margin-top: 0 !important; }
      article.markdown .content .book-columns .markdown-inner > :last-child,
      article.markdown .content .book-columns .markdown-inner > :last-child > :last-child,
      article.markdown .content .book-columns .markdown-inner > :last-child > :last-child > :last-child {
        margin-bottom: 0 !important; }
  article.markdown .content .book-tabs {
    margin: .5em 0;
    overflow: visible;
    display: flex;
    flex-wrap: wrap; }
    article.markdown .content .book-tabs label {
      line-height: 2rem;
      display: inline-block;
      padding: 0 1rem;
      min-width: 2.5rem;
      cursor: pointer;
      z-index: 999;
      text-align: center; }
    article.markdown .content .book-tabs .book-tabs-content {
      order: 999;
      width: 100%;
      display: none;
      overflow: visible;
      padding-top: .5rem; }
      article.markdown .content .book-tabs .book-tabs-content > :first-child,
      article.markdown .content .book-tabs .book-tabs-content > :first-child > :first-child,
      article.markdown .content .book-tabs .book-tabs-content > :first-child > :first-child > :first-child {
        margin-top: 0 !important; }
      article.markdown .content .book-tabs .book-tabs-content > :last-child,
      article.markdown .content .book-tabs .book-tabs-content > :last-child > :last-child,
      article.markdown .content .book-tabs .book-tabs-content > :last-child > :last-child > :last-child {
        margin-bottom: 0 !important; }
    article.markdown .content .book-tabs input[type="radio"] {
      display: none; }
      article.markdown .content .book-tabs input[type="radio"]:checked + label {
        border-top-left-radius: var(--radius);
        border-top-right-radius: var(--radius);
        border-bottom-left-radius: var(--radius);
        border-bottom-right-radius: var(--radius);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        background: rgba(255, 255, 255, 0.2) !important;
        position: relative; }
        article.markdown .content .book-tabs input[type="radio"]:checked + label + .book-tabs-content {
          display: block; }
  article.markdown .content details {
    margin: .3rem 0; }
    article.markdown .content details summary {
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
      border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background: rgba(255, 255, 255, 0.2) !important;
      position: relative;
      transition: all .15s;
      font-size: 14px;
      padding: .3rem;
      text-shadow: 0 0; }
      article.markdown .content details summary:hover {
        cursor: pointer;
        background: rgba(255, 255, 255, 0.8) !important; }
      article.markdown .content details summary::marker {
        content: '';
        font-size: 0; }
      article.markdown .content details summary img.alt {
        width: 18px;
        height: 18px;
        margin-right: .2rem;
        vertical-align: sub;
        transition: .2s all; }
    article.markdown .content details ::-webkit-details-marker,
    article.markdown .content details ::-moz-list-bullet {
      content: '';
      font-size: 0; }
    article.markdown .content details .markdown-inner {
      margin-top: .5rem; }
      article.markdown .content details .markdown-inner > :first-child,
      article.markdown .content details .markdown-inner > :first-child > :first-child,
      article.markdown .content details .markdown-inner > :first-child > :first-child > :first-child {
        margin-top: 0 !important; }
      article.markdown .content details .markdown-inner > :last-child,
      article.markdown .content details .markdown-inner > :last-child > :last-child,
      article.markdown .content details .markdown-inner > :last-child > :last-child > :last-child {
        margin-bottom: 0 !important; }
    article.markdown .content details:focus {
      outline: none; }
    article.markdown .content details[open] > summary {
      margin-bottom: 0; }
      article.markdown .content details[open] > summary img.alt {
        transform: rotate(90deg); }
  article.markdown .content #vcomments > :first-child,
  article.markdown .content #vcomments > :first-child > :first-child,
  article.markdown .content #vcomments > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  article.markdown .content #vcomments > :last-child,
  article.markdown .content #vcomments > :last-child > :last-child,
  article.markdown .content #vcomments > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }
  article.markdown .content #vcomments .vempty {
    display: none !important; }
  article.markdown .content #vcomments .vpanel > :first-child,
  article.markdown .content #vcomments .vpanel > :first-child > :first-child,
  article.markdown .content #vcomments .vpanel > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  article.markdown .content #vcomments .vpanel > :last-child,
  article.markdown .content #vcomments .vpanel > :last-child > :last-child,
  article.markdown .content #vcomments .vpanel > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }
  article.markdown .content #vcomments .vwrap {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    padding: .5rem;
    margin-top: 1rem; }
    article.markdown .content #vcomments .vwrap > :first-child,
    article.markdown .content #vcomments .vwrap > :first-child > :first-child,
    article.markdown .content #vcomments .vwrap > :first-child > :first-child > :first-child {
      margin-top: 0 !important; }
    article.markdown .content #vcomments .vwrap > :last-child,
    article.markdown .content #vcomments .vwrap > :last-child > :last-child,
    article.markdown .content #vcomments .vwrap > :last-child > :last-child > :last-child {
      margin-bottom: 0 !important; }
    article.markdown .content #vcomments .vwrap .vheader.item2 {
      display: flex; }
      article.markdown .content #vcomments .vwrap .vheader.item2 input {
        flex: 0 0 calc(50% - 1rem);
        border: none;
        font-size: 16px;
        margin: 0 .5rem;
        line-height: 1.5rem;
        background-color: transparent;
        border-bottom: 1px dashed silver;
        transition: all .2s;
        min-width: 0; }
        article.markdown .content #vcomments .vwrap .vheader.item2 input:focus {
          border-bottom: 1px dashed olivedrab; }
    article.markdown .content #vcomments .vwrap .vemojis {
      padding: .5rem; }
    article.markdown .content #vcomments .vwrap .vpreview {
      padding: .5rem; }
    article.markdown .content #vcomments .vwrap textarea.veditor {
      width: 100%;
      height: 6rem;
      line-height: 1.5rem;
      border: none;
      font-size: 16px;
      padding: .5rem;
      background-color: transparent;
      resize: none; }
    article.markdown .content #vcomments .vwrap .reslength {
      float: left;
      color: gray;
      font-size: 14px;
      line-height: 1.2rem; }
  article.markdown .content #vcomments .vcount {
    font-size: 20px;
    margin: .5rem 0; }
  article.markdown .content #vcomments .vcards > :first-child,
  article.markdown .content #vcomments .vcards > :first-child > :first-child,
  article.markdown .content #vcomments .vcards > :first-child > :first-child > :first-child, article.markdown .content #vcomments .vquote > :first-child,
  article.markdown .content #vcomments .vquote > :first-child > :first-child,
  article.markdown .content #vcomments .vquote > :first-child > :first-child > :first-child {
    margin-top: 0 !important; }
  article.markdown .content #vcomments .vcards > :last-child,
  article.markdown .content #vcomments .vcards > :last-child > :last-child,
  article.markdown .content #vcomments .vcards > :last-child > :last-child > :last-child, article.markdown .content #vcomments .vquote > :last-child,
  article.markdown .content #vcomments .vquote > :last-child > :last-child,
  article.markdown .content #vcomments .vquote > :last-child > :last-child > :last-child {
    margin-bottom: 0 !important; }
  article.markdown .content #vcomments .vcards .vcard, article.markdown .content #vcomments .vquote .vcard {
    padding-bottom: 1rem;
    margin-bottom: 1rem;
    border-bottom: 1px dashed silver; }
    article.markdown .content #vcomments .vcards .vcard img.vimg, article.markdown .content #vcomments .vquote .vcard img.vimg {
      border-top-left-radius: var(--radius);
      border-top-right-radius: var(--radius);
      border-bottom-left-radius: var(--radius);
      border-bottom-right-radius: var(--radius);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      background: rgba(255, 255, 255, 0.2) !important;
      position: relative;
      transition: all .15s;
      position: absolute;
      width: 3.5rem;
      height: 3.5rem;
      padding: .2rem; }
      article.markdown .content #vcomments .vcards .vcard img.vimg:hover, article.markdown .content #vcomments .vquote .vcard img.vimg:hover {
        cursor: pointer;
        background: rgba(255, 255, 255, 0.8) !important; }
    article.markdown .content #vcomments .vcards .vcard .vh, article.markdown .content #vcomments .vquote .vcard .vh {
      margin-left: 4.5rem; }
      article.markdown .content #vcomments .vcards .vcard .vh .vhead, article.markdown .content #vcomments .vcards .vcard .vh .vmeta, article.markdown .content #vcomments .vquote .vcard .vh .vhead, article.markdown .content #vcomments .vquote .vcard .vh .vmeta {
        height: 1.6rem;
        line-height: 2rem; }
        article.markdown .content #vcomments .vcards .vcard .vh .vhead .vsys, article.markdown .content #vcomments .vcards .vcard .vh .vhead .vtime, article.markdown .content #vcomments .vcards .vcard .vh .vmeta .vsys, article.markdown .content #vcomments .vcards .vcard .vh .vmeta .vtime, article.markdown .content #vcomments .vquote .vcard .vh .vhead .vsys, article.markdown .content #vcomments .vquote .vcard .vh .vhead .vtime, article.markdown .content #vcomments .vquote .vcard .vh .vmeta .vsys, article.markdown .content #vcomments .vquote .vcard .vh .vmeta .vtime {
          color: gray;
          font-size: 14px; }
        article.markdown .content #vcomments .vcards .vcard .vh .vhead .vsys, article.markdown .content #vcomments .vcards .vcard .vh .vmeta .vsys, article.markdown .content #vcomments .vquote .vcard .vh .vhead .vsys, article.markdown .content #vcomments .vquote .vcard .vh .vmeta .vsys {
          display: none; }
        article.markdown .content #vcomments .vcards .vcard .vh .vhead button.vat, article.markdown .content #vcomments .vcards .vcard .vh .vmeta button.vat, article.markdown .content #vcomments .vquote .vcard .vh .vhead button.vat, article.markdown .content #vcomments .vquote .vcard .vh .vmeta button.vat {
          float: right; }
      article.markdown .content #vcomments .vcards .vcard .vh .vcontent, article.markdown .content #vcomments .vquote .vcard .vh .vcontent {
        margin-top: .5rem; }
        article.markdown .content #vcomments .vcards .vcard .vh .vcontent > :first-child,
        article.markdown .content #vcomments .vcards .vcard .vh .vcontent > :first-child > :first-child,
        article.markdown .content #vcomments .vcards .vcard .vh .vcontent > :first-child > :first-child > :first-child, article.markdown .content #vcomments .vquote .vcard .vh .vcontent > :first-child,
        article.markdown .content #vcomments .vquote .vcard .vh .vcontent > :first-child > :first-child,
        article.markdown .content #vcomments .vquote .vcard .vh .vcontent > :first-child > :first-child > :first-child {
          margin-top: 0 !important; }
        article.markdown .content #vcomments .vcards .vcard .vh .vcontent > :last-child,
        article.markdown .content #vcomments .vcards .vcard .vh .vcontent > :last-child > :last-child,
        article.markdown .content #vcomments .vcards .vcard .vh .vcontent > :last-child > :last-child > :last-child, article.markdown .content #vcomments .vquote .vcard .vh .vcontent > :last-child,
        article.markdown .content #vcomments .vquote .vcard .vh .vcontent > :last-child > :last-child,
        article.markdown .content #vcomments .vquote .vcard .vh .vcontent > :last-child > :last-child > :last-child {
          margin-bottom: 0 !important; }
  article.markdown .content #vcomments .vcards > :last-child, article.markdown .content #vcomments .vquote > :last-child {
    padding-bottom: 0;
    margin-bottom: 0;
    border-bottom: none; }
  article.markdown .content #vcomments .vquote > :first-child {
    padding-top: 1rem; }
  article.markdown .content #vcomments img.vemoji {
    width: 1.5rem;
    height: 1.5rem; }
  article.markdown .content #vcomments button.vbtn {
    border-top-left-radius: var(--radius);
    border-top-right-radius: var(--radius);
    border-bottom-left-radius: var(--radius);
    border-bottom-right-radius: var(--radius);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    background: rgba(255, 255, 255, 0.2) !important;
    position: relative;
    transition: all .15s;
    border: none;
    padding: .2rem .6rem; }
    article.markdown .content #vcomments button.vbtn:hover {
      cursor: pointer;
      background: rgba(255, 255, 255, 0.8) !important; }
  article.markdown .content #vcomments button.vmore {
    margin: .5rem; }
  article.markdown .content #vcomments .vcol {
    padding: 0 .5rem; }
  article.markdown .content #vcomments .vrow {
    padding: .5rem 0; }
  article.markdown .content #vcomments .text-right {
    text-align: right; }
  article.markdown .content #vcomments .text-center {
    text-align: center; }

article::-webkit-scrollbar {
  width: 0px !important;
  height: 0px !important; }

@media screen and (max-width: 65rem) {
  aside.toc {
    display: none; }
  article .post-toc {
    display: block !important; } }

@media screen and (max-width: 40rem) {
  main {
    display: block;
    overflow: auto; }
    main::-webkit-scrollbar {
      width: 0px !important;
      height: 0px !important; }
  .pagination-box {
    margin: 0 .3rem !important; }
  aside {
    margin-right: 1rem !important;
    margin-bottom: 0 !important; }
  article.markdown {
    padding: 1rem !important; } }
</style>
  

  <script src="../../../js/jquery.min.js"></script>
</head>

<body>
  <main>
  
<aside class='meta'>
  <div class='author'>
    <a href="../../../"><img src='../../../images/NetPipe.png'></a>
    <h2 class='name'>Net Pipe</h2>
  </div>

  <div class="data">
    
    
      
    
      
    
      
    
      
    
      
    
      
    
    <div class='data-box'>
      <h3>6</h3>
      <span>Posts</span>
    </div>
    <div class='data-box'>
      <h3>16,853</h3>
      <span>Words</span>
    </div>
  </div>

  <div class="social">
    <a class="silent">
      <div class="social-box">
        <img src="../../../images/search.svg"/>
        <div class="search">
          <input type="text" placeholder="Search" id="search-key" maxlength="64" data-hotkeys="s/" onkeydown="keyup_submit(event);" />
        </div>
      </div>
      <script>
        function keyup_submit(e){ 
        var evt = window.event || e; 
          if (evt.keyCode == 13) {
            window.location.href = '/s?wd=' + document.getElementById("search-key").value;
          }
        }
      </script>
    </a>
    <a class="silent" href="../../../">
      <div class="social-box"><img src="../../../images/home.svg"/><span>Home</span></div>
    </a>
    <a class="silent" href="../../../post/">
      <div class="social-box"><img src="../../../images/posts.svg"/><span>Posts</span></div>
    </a>
    <a class="silent" href="../../../issue/">
      <div class="social-box"><img src="../../../images/issue.svg"/><span>Issue</span></div>
    </a>
    
  </div>

  <div class="tags">
    <h2 class='alt'><img class='alt' src="../../../images/categories.svg" />Tags</h2>

<div class="tag-card">
  <a class="silent" href="../../../categories/%E7%AE%97%E6%B3%95/">算法</a>
</div>

  </div>
</aside>
<aside class='toc'>
  <h2 class='alt'><img class='alt' src='../../../images/notice.svg'>Notice</h2>
<ul>
<li>部分文章正在重构中.</li>
<li>评论功能开放.</li>
<li>讨论区（Issue）开放.</li>
</ul>

<br>
  
    <h2 class='alt'><img class='alt' src='../../../images/toc.svg'>Menu</h2>
<nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#选择排序">选择排序</a></li>
    <li><a href="#冒泡排序">冒泡排序</a></li>
    <li><a href="#插入排序">插入排序</a></li>
    <li><a href="#计数排序">计数排序</a></li>
    <li><a href="#快速排序">快速排序</a></li>
    <li><a href="#归并排序">归并排序</a></li>
    <li><a href="#猴子排序">猴子排序</a></li>
    <li><a href="#逆序对数">逆序对数</a></li>
    <li><a href="#稳定性">稳定性</a></li>
  </ul>
</nav>
  
</aside>

  
<article class='markdown'>
<div class='content'>
  
  <h1>排序</h1>
  
  <span class="post-meta">
    
    <img class='alt' src="../../../images/time.svg"></img>
    Jan 10, 2021
    
  </span>

  
  <div class='tag-card'>
    <a class='silent' href="../../../categories/%e7%ae%97%e6%b3%95/">算法</a>
  </div>
  

  
  <div class="post-summary">你听说过猴子排序吗？</div>
  

  
  <div class='post-toc'>
  <h2 class='alt'><img class='alt' src='../../../images/toc.svg'>Menu</h2>
<nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#选择排序">选择排序</a></li>
    <li><a href="#冒泡排序">冒泡排序</a></li>
    <li><a href="#插入排序">插入排序</a></li>
    <li><a href="#计数排序">计数排序</a></li>
    <li><a href="#快速排序">快速排序</a></li>
    <li><a href="#归并排序">归并排序</a></li>
    <li><a href="#猴子排序">猴子排序</a></li>
    <li><a href="#逆序对数">逆序对数</a></li>
    <li><a href="#稳定性">稳定性</a></li>
  </ul>
</nav>
  </div>
  

  

  <h2 id="简介">简介 <a class="anchor" href="#%e7%ae%80%e4%bb%8b">¶</a></h2><p>排序数组 $a$（长度 $n$）中的元素. <strong>本章只研究升序排序.</strong></p>
<h2 id="选择排序">选择排序 <a class="anchor" href="#%e9%80%89%e6%8b%a9%e6%8e%92%e5%ba%8f">¶</a></h2><p>在第 $i$ 次遍历中，交换 $a[i]$ 和第 $i$ 小的数.</p>
<p>时间复杂度：$O(n^2)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
    <span style="color:#00979d">int</span> <span style="color:#434f54">tmp</span> <span style="color:#728e00">=</span> <span style="color:#434f54">i</span>;   <span style="color:#95a5a6">// tmp: 第 i 小的数
</span><span style="color:#95a5a6"></span>    <span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">j</span> <span style="color:#728e00">=</span> <span style="color:#434f54">i</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">j</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">j</span> <span style="color:#728e00">++</span>)
        <span style="color:#728e00">if</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">j</span>] <span style="color:#728e00">&lt;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">tmp</span>]) <span style="color:#434f54">tmp</span> <span style="color:#728e00">=</span> <span style="color:#434f54">j</span>;
    <span style="color:#434f54">swap</span>(<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>], <span style="color:#434f54">a</span>[<span style="color:#434f54">tmp</span>]);
}
</code></pre></div><h2 id="冒泡排序">冒泡排序 <a class="anchor" href="#%e5%86%92%e6%b3%a1%e6%8e%92%e5%ba%8f">¶</a></h2><p>重复扫描数组 $a$. 若 $a[i]&gt;a[i+1]$ 就交换它们. 当没有可交换元素时结束排序.</p>
<p>时间复杂度：$O(n^2)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">while</span> (<span style="color:#728e00">true</span>) {
    <span style="color:#00979d">bool</span> <span style="color:#434f54">swapped</span> <span style="color:#728e00">=</span> <span style="color:#728e00">false</span>;
    <span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
        <span style="color:#728e00">if</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">&gt;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>]) {
            <span style="color:#434f54">swap</span>(<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>], <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>]);
            <span style="color:#434f54">swapped</span> <span style="color:#728e00">=</span> <span style="color:#728e00">true</span>;
        }
    }
    <span style="color:#728e00">if</span> (<span style="color:#728e00">!</span><span style="color:#434f54">swapped</span>)
        <span style="color:#728e00">break</span>;
}
</code></pre></div><h2 id="插入排序">插入排序 <a class="anchor" href="#%e6%8f%92%e5%85%a5%e6%8e%92%e5%ba%8f">¶</a></h2><p>将数组 $a$ 分为「已排序」和「未排序」区. 每次将「未排序」区的一个元素插入「已排序区」的正确位置.</p>
<p>时间复杂度：$O(n^2)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">2</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
    <span style="color:#00979d">int</span> <span style="color:#434f54">tmp</span> <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>], <span style="color:#434f54">j</span> <span style="color:#728e00">=</span> <span style="color:#434f54">i</span> <span style="color:#728e00">-</span> <span style="color:#8a7b52">1</span>;
    <span style="color:#728e00">while</span> (<span style="color:#434f54">j</span> <span style="color:#728e00">&gt;=</span> <span style="color:#8a7b52">1</span> <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span>] <span style="color:#728e00">&gt;</span> <span style="color:#434f54">tmp</span>)
        <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">--</span>];
    <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">tmp</span>;
}
</code></pre></div><h2 id="计数排序">计数排序 <a class="anchor" href="#%e8%ae%a1%e6%95%b0%e6%8e%92%e5%ba%8f">¶</a></h2><p>记录每个元素出现的次数，然后依次输出.</p>
<p>$f[x]$：数字 $x$ 出现了几次.</p>
<p>时间复杂度：$O(n)$. <strong>不适用于大范围元素.</strong></p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">int</span> <span style="color:#434f54">maxn</span> <span style="color:#728e00">=</span> <span style="color:#728e00">-</span> <span style="color:#8a7b52">1e9</span>;
<span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
    <span style="color:#434f54">f</span>[<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>]] <span style="color:#728e00">++</span>;
    <span style="color:#434f54">maxn</span> <span style="color:#728e00">=</span> <span style="color:#434f54">max</span>(<span style="color:#434f54">maxn</span>, <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>]);
}
<span style="color:#00979d">int</span> <span style="color:#434f54">p</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">0</span>;
<span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">maxn</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>)
    <span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">f</span>[<span style="color:#434f54">i</span>]; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>)
        <span style="color:#434f54">a</span>[<span style="color:#728e00">++</span> <span style="color:#434f54">p</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">i</span>;
</code></pre></div><h2 id="快速排序">快速排序 <a class="anchor" href="#%e5%bf%ab%e9%80%9f%e6%8e%92%e5%ba%8f">¶</a></h2><ol>
<li>设定基准数为数组的中间数 $a[m]$.</li>
<li>扫描数组，将所有比 $a[m]$ 小的元素移至其左，大于 $a[m]$ 的元素移至其右.</li>
<li>对 $a[m]$ 左右的子数组进行相同操作.</li>
</ol>
<p>平均时间复杂度：$O(n\log n)$.</p>
<p>最坏时间复杂度：$O(n^2)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">void</span> <span style="color:#d35400">qsort</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">l</span>, <span style="color:#00979d">int</span> <span style="color:#434f54">r</span>) { <span style="color:#95a5a6">// 对 a[l ... r] 排序
</span><span style="color:#95a5a6"></span>    <span style="color:#728e00">if</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">&gt;=</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">return</span>;
    <span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>, <span style="color:#434f54">j</span> <span style="color:#728e00">=</span> <span style="color:#434f54">r</span>, <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
    <span style="color:#728e00">while</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">j</span>) {
        <span style="color:#728e00">while</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">&lt;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">m</span>]) <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>;
        <span style="color:#728e00">while</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">j</span>] <span style="color:#728e00">&gt;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">m</span>]) <span style="color:#434f54">j</span> <span style="color:#728e00">--</span>;
        <span style="color:#728e00">if</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">j</span>)
            <span style="color:#434f54">swap</span>(<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">++</span>], <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">--</span>]);
    }
    <span style="color:#434f54">qsort</span>(<span style="color:#434f54">l</span>, <span style="color:#434f54">j</span>), <span style="color:#434f54">qsort</span>(<span style="color:#434f54">i</span>, <span style="color:#434f54">r</span>);
}
</code></pre></div><h2 id="归并排序">归并排序 <a class="anchor" href="#%e5%bd%92%e5%b9%b6%e6%8e%92%e5%ba%8f">¶</a></h2><ol>
<li>将数组分为 $a[l\sim m]$ 和 $a[m+1\sim r]$ 两个子数组.</li>
<li>递归排序两个子数组.</li>
<li>合并两个已排序的子数组.
<ul>
<li>设定指针 $i$ 和 $j$，最初位置分别为两个子数组的起始位置.</li>
<li>比较 $a[i]$ 和 $a[j]$，选择更小的放入数组 $b$ ，并移动其指针向下一位置.</li>
<li>重复上一步直到某指针超出数组末尾.</li>
<li>将子数组剩下的所有元素放入数组 $b$，再将数组 $b$ 拷贝到数组 $a$.</li>
</ul>
</li>
</ol>
<p>时间复杂度：$O(n\log{n})$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">void</span> <span style="color:#d35400">msort</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">l</span>, <span style="color:#00979d">int</span> <span style="color:#434f54">r</span>) {
    <span style="color:#728e00">if</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">==</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">return</span>;
    <span style="color:#00979d">int</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
    <span style="color:#434f54">msort</span>(<span style="color:#434f54">l</span>, <span style="color:#434f54">m</span>);
    <span style="color:#434f54">msort</span>(<span style="color:#434f54">m</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>, <span style="color:#434f54">r</span>);
    <span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>, <span style="color:#434f54">j</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>, <span style="color:#434f54">k</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>;
    <span style="color:#728e00">while</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">m</span> <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">j</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">r</span>) {
        <span style="color:#728e00">if</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span>])
            <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">++</span>];
        <span style="color:#728e00">else</span>
            <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">++</span>];
    }
    <span style="color:#728e00">while</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">m</span>) <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">++</span>];
    <span style="color:#728e00">while</span> (<span style="color:#434f54">j</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>) <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">++</span>];
    <span style="color:#728e00">for</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">r</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>)
        <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">b</span>[<span style="color:#434f54">i</span>];
}
</code></pre></div><h2 id="猴子排序">猴子排序 <a class="anchor" href="#%e7%8c%b4%e5%ad%90%e6%8e%92%e5%ba%8f">¶</a></h2><p>随机交换两个元素，直到排完序.</p>
<p>平均时间复杂度：$O(n\cdot n!)$.</p>
<p>最好时间复杂度：$O(n)$.</p>
<p>最坏时间复杂度：$O(\infty)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#434f54">srand</span>(<span style="color:#00979d">unsigned</span>(<span style="color:#434f54">time</span>(<span style="color:#8a7b52">0</span>)));
<span style="color:#728e00">while</span> (<span style="color:#728e00">true</span>) {
    <span style="color:#434f54">swap</span>(<span style="color:#434f54">a</span>[<span style="color:#434f54">rand</span>() <span style="color:#728e00">%</span> <span style="color:#434f54">n</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>], <span style="color:#434f54">a</span>[<span style="color:#434f54">rand</span>() <span style="color:#728e00">%</span> <span style="color:#434f54">n</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>]);
    <span style="color:#00979d">bool</span> <span style="color:#434f54">solve</span> <span style="color:#728e00">=</span> <span style="color:#728e00">true</span>;
    <span style="color:#728e00">for</span> (<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">2</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>)
        <span style="color:#728e00">if</span> (<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">&lt;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">-</span> <span style="color:#8a7b52">1</span>])
            <span style="color:#434f54">solve</span> <span style="color:#728e00">=</span> <span style="color:#728e00">false</span>;
    <span style="color:#728e00">if</span> (<span style="color:#434f54">solve</span>) <span style="color:#728e00">break</span>;
}
</code></pre></div><h2 id="逆序对数">逆序对数 <a class="anchor" href="#%e9%80%86%e5%ba%8f%e5%af%b9%e6%95%b0">¶</a></h2><p>若 $i&lt;j$ 且 $a[i]&gt;a[j]$，则 $(a[i],a[j])$ 是一组逆序对.</p>
<p>在 <a href="#%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F">归并排序</a> 的第 3 步：合并两个有序数组时，若出现 $a[i]&gt;a[j]$ 的情况，由 $i&lt;j$ 可知 $a[i\sim m]$ 和 $a[j]$ 构成了 $m-i+1$ 个逆序对，便可以统计到答案中.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#00979d">void</span> <span style="color:#d35400">msort</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">l</span>,<span style="color:#00979d">int</span> <span style="color:#434f54">r</span>){
	<span style="color:#728e00">if</span>(<span style="color:#434f54">l</span> <span style="color:#728e00">==</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">return</span>;
	<span style="color:#00979d">int</span> <span style="color:#434f54">m</span> <span style="color:#728e00">=</span> (<span style="color:#434f54">l</span> <span style="color:#728e00">+</span> <span style="color:#434f54">r</span>) <span style="color:#728e00">/</span> <span style="color:#8a7b52">2</span>;
	<span style="color:#434f54">msort</span>(<span style="color:#434f54">l</span>, <span style="color:#434f54">m</span>);
	<span style="color:#434f54">msort</span>(<span style="color:#434f54">m</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>, <span style="color:#434f54">r</span>);
	<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>, <span style="color:#434f54">j</span> <span style="color:#728e00">=</span> <span style="color:#434f54">m</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>, <span style="color:#434f54">k</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>;
	<span style="color:#728e00">while</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">m</span> <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">j</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">r</span>) {
		<span style="color:#728e00">if</span>(<span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span>])
            <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">++</span>];
		<span style="color:#728e00">else</span> {
            <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">++</span>];
            <span style="color:#434f54">ans</span> <span style="color:#728e00">+=</span> <span style="color:#434f54">m</span> <span style="color:#728e00">-</span> <span style="color:#434f54">i</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>;   <span style="color:#95a5a6">// 统计逆序对
</span><span style="color:#95a5a6"></span>        }
    }
	<span style="color:#728e00">while</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">m</span>) <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span> <span style="color:#728e00">++</span>];
	<span style="color:#728e00">while</span> (<span style="color:#434f54">j</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">r</span>) <span style="color:#434f54">b</span>[<span style="color:#434f54">k</span> <span style="color:#728e00">++</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span> <span style="color:#728e00">++</span>];
	<span style="color:#728e00">for</span> (<span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#434f54">l</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">r</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>)
        <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>] <span style="color:#728e00">=</span> <span style="color:#434f54">b</span>[<span style="color:#434f54">i</span>]; 
}
</code></pre></div><h2 id="稳定性">稳定性 <a class="anchor" href="#%e7%a8%b3%e5%ae%9a%e6%80%a7">¶</a></h2><p>若在原数组中，任意相同元素在排序前后的相对位置不变，则此排序是稳定的.</p>
<p>稳定排序不会破坏相同元素的原顺序. 例如对于结构体 <code>Student</code>：</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">struct</span> <span style="color:#434f54">Student</span> {
    <span style="color:#00979d">int</span> <span style="color:#434f54">score</span>;
    <span style="color:#00979d">int</span> <span style="color:#434f54">id</span>;
}
</code></pre></div><p>现给出已按 <code>id</code> 排序的 <code>Student</code> 数组，要求按 <code>score</code> 再排序. 稳定排序能保证所有 <code>score</code> 相同的 <code>Student</code> 仍按照 <code>id</code> 排序.</p>
<table>
<thead>
<tr>
<th style="text-align:center">算法</th>
<th style="text-align:center">是否稳定</th>
<th style="text-align:center">算法</th>
<th style="text-align:center">是否稳定</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">选择排序</td>
<td style="text-align:center">$\times$</td>
<td style="text-align:center">快速排序</td>
<td style="text-align:center">$\times$</td>
</tr>
<tr>
<td style="text-align:center">冒泡排序</td>
<td style="text-align:center">$\sqrt{}$</td>
<td style="text-align:center">归并排序</td>
<td style="text-align:center">$\sqrt{}$</td>
</tr>
<tr>
<td style="text-align:center">插入排序</td>
<td style="text-align:center">$\sqrt{}$</td>
<td style="text-align:center">猴子排序</td>
<td style="text-align:center">$\times$</td>
</tr>
<tr>
<td style="text-align:center">记数排序</td>
<td style="text-align:center">$\sqrt{}$</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>


  
  <script src='../../../js/valine.min.js'></script>

<h2 id="评论">
  评论
  <a class="anchor" href="#评论">¶</a>
</h2>
<div id="vcomments">
  <script defer>
    $('#TableOfContents').children().append('<li><a href="#评论">评论</a></li>');
  
    $maxlength = 1000;

    new Valine({
      el: '#vcomments',
      appId: '\x38\x37\x4a\x52\x4a\x50\x49\x7a\x42\x6e\x59\x52\x55\x63\x65\x4c\x32\x58\x56\x70\x7a\x6c\x68\x4d\x2d\x67\x7a\x47\x7a\x6f\x48\x73\x7a',
      appKey: '\x75\x6d\x53\x4e\x56\x49\x57\x6f\x4c\x4f\x74\x33\x70\x64\x6d\x30\x77\x38\x6f\x76\x7a\x67\x4d\x43',
      placeholder: 'Markdown and KaTeX Supported',
      recordIP: true,
      meta: ['nick', 'mail'],
      requiredFields: ['nick', 'mail'],
      enableQQ: true,
      lang: 'en',
      maxlength: $maxlength,
      
      
    });

    var textarea = document.getElementById('veditor');
    var res = document.getElementsByClassName('reslength')[0];

    textarea.addEventListener('input', (e) => {
      textarea.style.height = '100px';
      textarea.style.height = e.target.scrollHeight + 'px';
      document.getElementsByClassName('reslength')[0].scrollIntoView();
      res.innerHTML = ($maxlength - textarea.value.length);
    });
  </script>
</div>
  
</div>

</article>

  </main>

  

<script defer>
function IsPC() {  
  var userAgentInfo = navigator.userAgent;
  var Agents = new Array("Android", "iPhone", "SymbianOS", "Windows Phone", "iPad", "iPod");  
  for (var v = 0; v < Agents.length; v ++) {  
    if (userAgentInfo.indexOf(Agents[v]) > 0) {
      return false;
    }
  }
  return true;
}
function detectZoom() {
  var ratio = 0,
  screen = window.screen,
  ua = navigator.userAgent.toLowerCase();
  if (window.devicePixelRatio !== undefined)
    ratio = window.devicePixelRatio;
  else if (~ua.indexOf('msie')) {
    if (screen.deviceXDPI && screen.logicalXDPI)
      ratio = screen.deviceXDPI / screen.logicalXDPI;
  }
  else if (window.outerWidth !== undefined && window.innerWidth !== undefined)
    ratio = window.outerWidth / window.innerWidth;
  
  if (ratio)
    ratio = Math.round(ratio * 100);
  return ratio;
}
$('.markdown').find('img').each(function(id, el, arr) {
  if (el.className == 'alt' || el.className == 'vemoji')
    return;
  el.className = "md__image";
  var src = el.getAttribute('src');
  if (IsPC()) {
    if (el.style.zoom)
      el.style.zoom = parseFloat(el.style.zoom) / detectZoom();
    else
      el.style.zoom = 100 / detectZoom();
  }
});
</script>



<link rel="stylesheet" href="../../../katex/katex.min.css">
<script src="../../../katex/katex.min.js"></script>
<script src="../../../katex/auto-render.min.js"></script>

<script>
function renderTex() {
  renderMathInElement(document.body, {
    trust: true,
    delimiters: [
      { left: "$$", right: "$$", display: true },
      { left: "$", right: "$", display: false }
    ],
    macros: {
      
      "\\d": "\\text{d}",
      "\\zh": "\\footnotesize \\ ",
      "\\en": "\\normalsize \\ ",
      "\\su": "\\displaystyle",
      "\\eq": "\\Longleftrightarrow",
      "\\intro": "\\Longrightarrow",
      "\\mathring": "\\overset\{\\normalsizeₒ\}",
      "\\arccot": "\\text\{arccot\} \\, ",
      "\\xor": "\\text\{xor\} \\, ",
      "\\mex": "\\text\{mex\} \\, "
    }
  });
}  
document.addEventListener("DOMContentLoaded", function() {
  renderTex();
});
$('.language-latex').each(function(id, el, arr) {
  function toText(text) { 
    var temp = document.createElement("div"); 
    temp.innerHTML = text; 
    var output = temp.innerText || temp.textContent; 
    temp = null; 
    return output; 
  } 
  tex = toText(el.innerHTML);
  el.parentElement.outerHTML = '<div>$$' + tex + '$$</div>';
});
</script>




</body>

</html>