<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>队列 &#8211; NetPipe&#39;s Blog</title>

  
  <meta name="description" content="简介 ¶队列是一种「先进先出」的数据结构.">
  
  <meta name="author" content="NetPipe">

  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <link href="../../../index.xml" rel="alternate" type="application/rss+xml" title="NetPipe&#39;s Blog" />
  <link rel="shortcut icon" type="image/x-icon" href="../../../images/freeze.png" />

  
    <style>@font-face {
  font-family: 'Fantasque Sans Mono';
  src: url("/fonts/FantasqueSansMono-Regular.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: normal;
  font-weight: bold;
  src: url("/fonts/FantasqueSansMono-Bold.woff2") format("woff2"); }

@font-face {
  font-family: 'Fantasque Sans Mono';
  font-style: italic;
  src: url("/fonts/FantasqueSansMono-Italic.woff2") format("woff2"); }

@font-face {
  font-family: 'Lazy';
  src: url("/fonts/lazy.ttf") format("truetype"); }

@font-face {
  font-family: 'Material Icons';
  font-style: normal;
  font-weight: 400;
  src: url("/fonts/Material Icons.woff2") format("woff2"); }

/* fallback */
@font-face {
  font-family: 'Material Icons Outlined';
  font-style: normal;
  font-weight: 400;
  src: url("/fonts/Material Icons Outlined.woff2") format("woff2"); }

/* fallback */
@font-face {
  font-family: 'Material Icons Round';
  font-style: normal;
  font-weight: 400;
  src: url("/fonts/Material Icons Round.woff2") format("woff2"); }

/* fallback */
@font-face {
  font-family: 'Material Icons Sharp';
  font-style: normal;
  font-weight: 400;
  src: url("/fonts/Material Icons Sharp.woff2") format("woff2"); }

/* fallback */
@font-face {
  font-family: 'Material Icons Two Tone';
  font-style: normal;
  font-weight: 400;
  src: url("/fonts/Material Icons Two Tone.woff2") format("woff2"); }

.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased; }

.material-icons-outlined {
  font-family: 'Material Icons Outlined';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased; }

.material-icons-round {
  font-family: 'Material Icons Round';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased; }

.material-icons-sharp {
  font-family: 'Material Icons Sharp';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased; }

.material-icons-two-tone {
  font-family: 'Material Icons Two Tone';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased; }

body,
code,
input {
  font-family: 'Fantasque Sans Mono', sans-serif;
  -webkit-font-smoothing: antialiased; }
  body article h1, body article h2, body article h3, body article h4, body article h5, body article h6, body .posts h1, body .posts h2, body .posts h3, body .posts h4, body .posts h5, body .posts h6,
  code article h1,
  code article h2,
  code article h3,
  code article h4,
  code article h5,
  code article h6,
  code .posts h1,
  code .posts h2,
  code .posts h3,
  code .posts h4,
  code .posts h5,
  code .posts h6,
  input article h1,
  input article h2,
  input article h3,
  input article h4,
  input article h5,
  input article h6,
  input .posts h1,
  input .posts h2,
  input .posts h3,
  input .posts h4,
  input .posts h5,
  input .posts h6 {
    font-weight: normal; }

strong {
  font-weight: normal;
  text-shadow: 0 0; }

* {
  margin: 0;
  padding: 0;
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  --aside-width: 18rem;
  --box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.1);
  --box-shadow-hover: 0 2px 16px 0 rgba(0, 0, 0, 0.1);
  --color: black;
  --border: 1px solid #dee0e2;
  --border-color: #dee0e2;
  --border-radius: 0.25rem;
  --link-color: #4588be;
  --category-color: rgba(173, 216, 230, .7);
  --background-color: white;
  --hover-color: #f7f7f7; }
  * body {
    background-color: #f6f6f6; }

::selection {
  background-color: #CCE2FF;
  color: rgba(0, 0, 0, 0.87); }

::-webkit-scrollbar {
  width: 7px;
  height: 7px; }

::-webkit-scrollbar-thumb {
  border-radius: 10px;
  background: #dddddd; }
  ::-webkit-scrollbar-thumb:hover {
    background: #acacac; }

::-webkit-scrollbar-track {
  border-radius: 10px;
  background: #f0f0f0; }

a {
  text-decoration: none;
  color: #4794d3; }

a:focus, a:hover {
  outline: none;
  text-decoration: underline; }

a.alternate:focus,
a.alternate:hover,
a.alternate:focus > *,
a.alternate:hover > * {
  text-decoration: none;
  background: var(--hover-color); }

small {
  font-size: 70%; }

ol, ul {
  margin: .5rem 0;
  padding-left: 2rem;
  word-break: break-word; }
  ol > li, ul > li {
    margin: .5rem 0; }

ul > li {
  list-style: circle; }

.result {
  width: 100%; }
  .result :first-child .post {
    margin-top: 0; }
  .result :last-child .post {
    margin-bottom: 0; }

.flex {
  display: flex; }

.flex-auto {
  flex: 1 1 auto; }

.flex-even {
  flex: 1 1; }

.flex-wrap {
  flex-wrap: wrap; }

.justify-start {
  justify-content: flex-start; }

.justify-end {
  justify-content: flex-end; }

.justify-center {
  justify-content: center; }

.justify-between {
  justify-content: space-between; }

.align-center {
  align-items: center; }

.mx-auto {
  margin: 0 auto; }

.text-center {
  text-align: center; }

.text-left {
  text-align: left; }

.text-right {
  text-align: right; }

.hidden {
  display: none; }

body {
  max-width: 80rem;
  margin: 0 auto;
  overflow: hidden scroll; }

main {
  display: flex; }

article {
  overflow: hidden;
  will-change: transform; }

div.avatar {
  text-align: center; }
  div.avatar .data-left,
  div.avatar .data-right {
    flex: 0 0 50%;
    display: inline-block;
    width: calc(50% - 1rem); }
  div.avatar .data-left {
    border-right: 1px solid var(--color); }
  div.avatar .social {
    margin-top: 1rem; }
    div.avatar .social .social-box {
      border: var(--border);
      border-radius: var(--border-radius);
      box-shadow: var(--box-shadow);
      background-color: var(--background-color);
      color: var(--color);
      margin-top: .5rem;
      padding: .5rem;
      text-align: left;
      font-size: 18px; }
      div.avatar .social .social-box:hover {
        box-shadow: var(--box-shadow-hover); }
      div.avatar .social .social-box a {
        color: var(--color); }
      div.avatar .social .social-box:hover a {
        color: var(--link-color);
        text-decoration: underline; }
      div.avatar .social .social-box img {
        vertical-align: text-bottom;
        width: 20px; }
      div.avatar .social .social-box .search {
        display: inline-block;
        width: calc(100% - 36px); }
        div.avatar .social .social-box .search > input {
          background-color: var(--background-color);
          color: var(--color);
          border: none;
          font-size: 17px;
          outline: none;
          width: 100%; }

div.categories .post-categories {
  margin: .5rem 0;
  line-height: 1.7rem; }

#TableOfContents > ul {
  padding-left: 0; }
  #TableOfContents > ul li {
    list-style: none; }

.flex-left,
.flex-right {
  flex: 0 0 var(--aside-width); }
  .flex-left div.outer,
  .flex-right div.outer {
    padding: .7rem;
    margin: .3rem;
    width: calc(var(--aside-width) - 2rem);
    height: calc(100% - 2rem);
    overflow: hidden;
    position: fixed; }
    .flex-left div.outer::-webkit-scrollbar-track,
    .flex-right div.outer::-webkit-scrollbar-track {
      margin: .7rem; }
    .flex-left div.outer:hover,
    .flex-right div.outer:hover {
      overflow: auto; }
  .flex-left div.inner,
  .flex-right div.inner {
    border: var(--border);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    background-color: var(--background-color);
    color: var(--color);
    box-sizing: border-box;
    width: calc(var(--aside-width) - 2rem);
    padding: .5rem;
    margin-bottom: 1rem;
    overflow: auto;
    padding: 1rem; }
    .flex-left div.inner:hover,
    .flex-right div.inner:hover {
      box-shadow: var(--box-shadow-hover); }
    .flex-left div.inner h2,
    .flex-right div.inner h2 {
      margin: .5rem 0;
      line-height: 20px; }
      .flex-left div.inner h2 > img,
      .flex-right div.inner h2 > img {
        vertical-align: -2px;
        width: 20px;
        height: 20px;
        margin-right: .5rem; }
    .flex-left div.inner ul,
    .flex-right div.inner ul {
      padding-left: 1rem; }
    .flex-left div.inner > :first-child,
    .flex-right div.inner > :first-child {
      margin-top: 0; }
    .flex-left div.inner > :last-child,
    .flex-right div.inner > :last-child {
      margin-bottom: 0; }
    .flex-left div.inner:last-of-type,
    .flex-right div.inner:last-of-type {
      margin-bottom: 0; }

.flex-left {
  margin-right: -1rem; }
  .flex-left div.outer > div.inner:nth-last-child(2) {
    margin-bottom: 0; }

.flex-right {
  margin-left: -1rem; }

.flex-hidden {
  display: none; }

.blog-page {
  flex-grow: 1;
  min-width: 18rem;
  padding: 1rem;
  width: calc(100% - 42rem); }
  .blog-page .post-toc {
    display: none; }
  .blog-page .post-pagination {
    width: 100%;
    height: 2rem; }
  .blog-page .post-content {
    border: var(--border);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    background-color: var(--background-color);
    color: var(--color); }
    .blog-page .post-content:hover {
      box-shadow: var(--box-shadow-hover); }

.pagination {
  margin: 0;
  padding: 0;
  width: 100%;
  display: flex;
  flex-flow: row nowrap;
  align-items: center;
  justify-content: center;
  font-size: 18px; }
  .pagination div.pagination-box {
    border: var(--border);
    border-radius: var(--border-radius);
    box-shadow: var(--box-shadow);
    margin: 0 .5rem;
    color: var(--link-color);
    background-color: var(--background-color);
    width: 2rem;
    height: 2rem;
    line-height: 2rem;
    float: left;
    text-align: center;
    vertical-align: middle;
    cursor: default; }
    .pagination div.pagination-box:hover {
      box-shadow: var(--box-shadow-hover); }
    .pagination div.pagination-box:not(.disabled):hover {
      background-color: var(--hover-color);
      cursor: pointer; }
  .pagination div.prev {
    width: 5rem;
    margin-left: 0; }
  .pagination div.next {
    width: 5rem;
    margin-right: 0; }
  .pagination div.pagination-eldivpsis {
    width: 3rem; }
  .pagination div.disabled {
    color: var(--color); }

.posts .post {
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  background-color: var(--background-color);
  color: var(--color);
  margin: 1rem 0;
  padding: .7rem 1rem; }
  .posts .post:hover {
    box-shadow: var(--box-shadow-hover); }

.posts :first-child .post {
  margin-top: 0; }

.post-list {
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow); }
  .post-list:hover {
    box-shadow: var(--box-shadow-hover); }
  .post-list .post-item {
    padding: .3rem .5rem;
    height: 1.5rem; }
    .post-list .post-item * {
      font-size: 100%;
      vertical-align: bottom; }
    .post-list .post-item:hover a {
      color: var(--link-color);
      text-decoration: underline; }

.post-link {
  color: var(--color); }
  .post-link:hover .post-title a {
    color: var(--link-color);
    text-decoration: underline; }

.post-title {
  margin: 0 0 .5rem 0;
  font-size: 20px; }
  .post-title a {
    color: var(--color); }
  .post-title:hover a {
    color: var(--link-color);
    text-decoration: underline; }

.post-meta {
  color: gray; }
  .post-meta img {
    vertical-align: text-bottom; }

.post-categories {
  font-size: 14px; }
  .post-categories a {
    background-color: var(--category-color);
    border-radius: .2rem;
    padding: .2rem .2rem;
    white-space: nowrap; }

.post-summary {
  margin-top: .5rem; }

.post-header {
  margin-bottom: 1rem; }

.post-content {
  text-align: justify;
  background-color: white;
  padding: 1rem; }
  .post-content .md__image {
    display: block;
    max-width: 100%;
    margin: auto; }

.post-content > :first-child,
.post-content > :first-child > :first-child,
.post-content > :first-child > :first-child > :first-child,
.markdown-inner > :first-child,
.markdown-inner > :first-child > :first-child,
.markdown-inner > :first-child > :first-child > :first-child {
  margin-top: 0; }

.post-content > :last-child,
.post-content > :last-child > :last-child,
.post-content > :last-child > :last-child > :last-child,
.markdown-inner > :last-child,
.markdown-inner > :last-child > :last-child,
.markdown-inner > :last-child > :last-child > :last-child {
  margin-bottom: 0; }

.scroll-to-top {
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  display: none;
  position: fixed;
  bottom: 4rem;
  right: 2rem;
  width: 2.5rem;
  height: 2.5rem;
  background-color: white; }
  .scroll-to-top:hover {
    box-shadow: var(--box-shadow-hover); }
  .scroll-to-top img {
    width: 2rem;
    height: 2rem;
    margin: .25rem; }
  .scroll-to-top:hover {
    background-color: #eeeeee; }

@media screen and (max-width: 70rem) {
  .flex-left div.outer > div.inner:nth-last-child(2) {
    margin-bottom: 1rem; }
  .flex-left .flex-hidden {
    display: block; }
  .flex-right {
    display: none; } }

@media screen and (max-width: 48rem) {
  main {
    display: block; }
  .flex-left,
  .flex-right {
    width: 100%;
    margin: 0;
    margin-bottom: -1rem; }
    .flex-left div.outer,
    .flex-right div.outer {
      position: relative;
      width: auto; }
    .flex-left div.inner,
    .flex-right div.inner {
      width: auto; }
  .blog-page {
    width: calc(100% - 2rem); } }

.book-columns {
  margin: .5rem;
  margin-left: -.5rem;
  margin-right: -.5rem; }
  .book-columns div {
    margin: .5rem; }

.book-tabs {
  margin: .5em 0;
  overflow: hidden;
  display: flex;
  flex-wrap: wrap; }
  .book-tabs label {
    display: inline-block;
    padding: .3rem 16px;
    border-top-left-radius: var(--border-radius);
    border-top-right-radius: var(--border-radius);
    cursor: pointer;
    z-index: 999;
    border: 1px solid transparent; }
  .book-tabs .book-tabs-content,
  .book-tabs .book-tabs-pure-content {
    order: 999;
    width: 100%;
    display: none;
    overflow: hidden;
    border-bottom-left-radius: var(--border-radius);
    border-bottom-right-radius: var(--border-radius); }
  .book-tabs .book-tabs-content {
    border: var(--border);
    padding: .5rem; }
  .book-tabs input[type="radio"] {
    display: none; }
    .book-tabs input[type="radio"]:not(:checked) + label {
      color: #95A5A6; }
      .book-tabs input[type="radio"]:not(:checked) + label:hover {
        background-color: var(--hover-color); }
    .book-tabs input[type="radio"]:checked + label {
      border: var(--border);
      border-bottom: none; }
      .book-tabs input[type="radio"]:checked + label + .book-tabs-content, .book-tabs input[type="radio"]:checked + label + .book-tabs-pure-content {
        display: block; }
    .book-tabs input[type="radio"]:first-of-type:checked + label + .book-tabs-pure-content :first-child {
      border-top-left-radius: 0; }

details {
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: none;
  margin: .5rem 0;
  padding: .5rem  1rem .5rem  0.75rem; }
  details summary {
    font-size: 12.8px;
    font-weight: bold; }
    details summary::marker {
      content: '';
      font-size: 0; }
  details ::-webkit-details-marker {
    content: '';
    font-size: 0; }
  details ::-moz-list-bullet {
    content: '';
    font-size: 0; }
  details label {
    font-size: 20px !important;
    margin-left: -5px;
    margin-right: 5px;
    vertical-align: -4.5px; }
  details[open] > summary {
    margin-bottom: 0; }
    details[open] > summary label {
      transform: rotate(90deg); }
  details .markdown-inner {
    margin-top: 1em;
    padding: .5rem 0; }
  details:focus {
    outline: none; }

article h1 {
  font-size: 200%;
  line-height: 110%; }

article h2 {
  font-size: 140%;
  line-height: 120%; }

article h3 {
  font-size: 120%;
  line-height: 120%; }
  article h3 .katex {
    font-size: 100%; }

article h4 {
  font-size: 110%; }

article p {
  margin: .5rem 0;
  line-height: 1.5rem; }

article h1, article h2, article h3, article h4, article h5, article h6 {
  margin: .7rem 0; }
  article h1 .anchor, article h2 .anchor, article h3 .anchor, article h4 .anchor, article h5 .anchor, article h6 .anchor {
    opacity: 0; }
  article h1:hover .anchor, article h1:focus .anchor, article h2:hover .anchor, article h2:focus .anchor, article h3:hover .anchor, article h3:focus .anchor, article h4:hover .anchor, article h4:focus .anchor, article h5:hover .anchor, article h5:focus .anchor, article h6:hover .anchor, article h6:focus .anchor {
    opacity: 1; }

article hr {
  border: none;
  border-bottom: 1px solid #ebeced; }

article blockquote {
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: none;
  border-left: .3rem solid lightgray;
  padding: 0 .5rem; }

article pre {
  border: var(--border);
  border-radius: var(--border-radius);
  box-shadow: none;
  margin: .5rem 0;
  padding: .5rem 1rem;
  overflow-x: auto;
  line-height: 22px; }

article code {
  border: var(--border);
  border-radius: var(--border-radius);
  padding: 1px 2px; }

article pre {
  color: #686868; }
  article pre code {
    border: none;
    padding: 0; }
  article pre * {
    user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text; }

article code:focus {
  outline: none; }

article .md__table {
  margin: -.5rem;
  padding: .5rem;
  overflow: auto; }
  article .md__table::-webkit-scrollbar-track {
    margin: .5rem; }
  article .md__table table {
    border: var(--border);
    border-radius: var(--border-radius);
    box-shadow: none;
    border-spacing: 0;
    overflow: auto;
    -webkit-overflow-scrolling: touch; }
    article .md__table table th {
      font-weight: normal; }
    article .md__table table td {
      border-top: 1px solid var(--border-color); }
    article .md__table table th, article .md__table table td {
      padding: .3rem 16px;
      white-space: nowrap; }

article .mermaid svg {
  display: block;
  margin: auto;
  zoom: 80%; }
</style>
  
</head>






<body>
<main>
  <div class="flex-left">
    <div class="outer">
      
  <div class="inner avatar">
  <img src="../../../images/freeze.png" class="avatar" width="96px" height="96px" />
  <h2>NetPipe</h2>
  <div class="data-left">
    <h3>57</h3>
    <span>Posts</span>
  </div>
  <div class="data-right">
    
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
    <h3>18313</h3>
    <span>Words</span>
  </div>
  <div class="social">
    <div class="social-box">
      <img src="../../../images/search.svg"/>
      <div class="search">
        <input type="text" placeholder="Search" id="search-key" maxlength="64" data-hotkeys="s/" onkeydown="keyup_submit(event);" />
      </div>
    </div>
    <a class="alternate" href="../../../">
      <div class="social-box">
        <img src="../../../images/home.svg"/>
        <object><a href="../../../">Home</a></object>
      </div>
    </a>
    <a class="alternate" href="../../../post/">
      <div class="social-box">
        <img src="../../../images/posts.svg"/>
        <object><a href="../../../post/">Posts</a></object>
      </div>
    </a>
    <a class="alternate" type="application/rss+xml" href="../../../index.xml">
      <div class="social-box">
        <img src="../../../images/rss.svg"/>
        <object><a  type="application/rss+xml" href="../../../index.xml">RSS</a></object>
      </div>
    </a>
  </div>
  <script>
    function keyup_submit(e){ 
    var evt = window.event || e; 
      if (evt.keyCode == 13){
        window.location.href = '/_search?wd=' + document.getElementById("search-key").value;
      }
    }
  </script>
</div>
  <div class="inner categories">
  <h2><img src="../../../images/categories.svg" />Categories</h2>
  
  <span class="post-categories">
    <a href="../../../categories/%E5%9F%BA%E7%A1%80%E6%95%B0%E5%AD%A6/">基础数学</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/dp/">DP</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E6%95%B0%E8%AE%BA/">数论</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%A7%91%E5%AD%A6/">计算机科学</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E7%BB%84%E5%90%88%E6%95%B0%E5%AD%A6/">组合数学</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E5%9B%BE%E8%AE%BA/">图论</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E5%AD%97%E7%AC%A6%E4%B8%B2/">字符串</a>
  </span>
  
  <span class="post-categories">
    <a href="../../../categories/%E5%9F%BA%E7%A1%80%E7%AE%97%E6%B3%95/">基础算法</a>
  </span>
  
</div>

      <div class="flex-hidden">
        
  <div class="inner">
  <h2><img src="../../../images/notice.svg" />Notice</h2>
  <p>Under Construction ...</p>
</div>
  

<div class="inner">
  <h2><img src="../../../images/toc.svg">TOC</h2>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#双向队列">双向队列</a></li>
    <li><a href="#单调队列">单调队列</a>
      <ul>
        <li><a href="#插入元素">插入元素</a></li>
        <li><a href="#滑动窗口">滑动窗口</a>
          <ul>
            <li><a href="#朴素算法">朴素算法</a></li>
            <li><a href="#单调队列优化">单调队列优化</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
</div>



      </div>
    </div>
  </div>

  
<div class="blog-page">
  <article class="post-content">
    
    <div class="post-header">
      <h1>队列</h1>
      <span class="post-meta">
        
          <img src="../../../images/time.svg"></img>
          Mar 5, 2021
        
      </span>
      <span class="post-categories">
        
          <a href="../../../categories/%e8%ae%a1%e7%ae%97%e6%9c%ba%e7%a7%91%e5%ad%a6/">计算机科学</a>
        
          <a href="../../../categories/%e6%95%b0%e6%8d%ae%e7%bb%93%e6%9e%84/">数据结构</a>
        
      </span>
    </div>
    
    <h2 id="简介">简介 <a class="anchor" href="#%e7%ae%80%e4%bb%8b">¶</a></h2><p>队列是一种「先进先出」的数据结构.元素从队列的前端进入（入队），从末端离开（出队），类似于排队.基本操作见 <code>STL Queue</code>.</p>
<p><img class="md__image" src="1.png" alt=""  /></p>
<h2 id="双向队列">双向队列 <a class="anchor" href="#%e5%8f%8c%e5%90%91%e9%98%9f%e5%88%97">¶</a></h2><p>队列元素只能从一端进，另一端出，有时无法满足问题的需要.双向队列应运而生，它支持从两端插入或删除元素.</p>
<p>双向队列的基本操作见 <code>STL Deque</code>.</p>
<h2 id="单调队列">单调队列 <a class="anchor" href="#%e5%8d%95%e8%b0%83%e9%98%9f%e5%88%97">¶</a></h2><p>单调队列的元素从队头到队尾满足单调性，适用于查询某一动态区间的最大（或最小）元素.</p>
<h3 id="插入元素">插入元素 <a class="anchor" href="#%e6%8f%92%e5%85%a5%e5%85%83%e7%b4%a0">¶</a></h3><p>将 $A[i]$ 入队，维护队列单调性，同时保证队列元素在 $A[p\cdots i]$ 范围内.以单调递增队列为例：</p>
<ul>
<li>
<p>重复弹出队头，直到队头 $≥p$；</p>
</li>
<li>
<p>重复弹出队尾，直到 $A[$队尾$]&lt;A[i]$（若单调递减，则重复直到 $A[$队尾$]&gt;A[i]$）.</p>
</li>
<li>
<p>将 $i$ 入队.</p>
</li>
</ul>
<p>涉及双端操作，须使用双向队列.此时 $A[p\cdots i]$ 范围内最小元素为 $A[$队头$]$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#434f54">deque</span><span style="color:#728e00">&lt;</span><span style="color:#00979d">int</span><span style="color:#728e00">&gt;</span> <span style="color:#434f54">q</span>; <span style="color:#95a5a6">// 存储元素下标
</span><span style="color:#95a5a6"></span>
<span style="color:#00979d">void</span> <span style="color:#d35400">insert</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">i</span>, <span style="color:#00979d">int</span> <span style="color:#434f54">p</span>) { <span style="color:#95a5a6">// 将 a[i] 入队，维护队列元素在 a[p...i] 范围内
</span><span style="color:#95a5a6"></span>    <span style="color:#728e00">while</span>(<span style="color:#728e00">!</span><span style="color:#434f54">q</span>.<span style="color:#434f54">empty</span>() <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">q</span>.<span style="color:#434f54">front</span>() <span style="color:#728e00">&lt;</span> <span style="color:#434f54">p</span>) <span style="color:#434f54">q</span>.<span style="color:#434f54">pop_front</span>();
    <span style="color:#728e00">while</span>(<span style="color:#728e00">!</span><span style="color:#434f54">q</span>.<span style="color:#434f54">empty</span>() <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">q</span>.<span style="color:#434f54">back</span>()] <span style="color:#728e00">&gt;=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>]) <span style="color:#434f54">q</span>.<span style="color:#434f54">pop_back</span>();
    <span style="color:#434f54">q</span>.<span style="color:#434f54">push_back</span>(<span style="color:#434f54">i</span>);
}
</code></pre></div><h3 id="滑动窗口">滑动窗口 <a class="anchor" href="#%e6%bb%91%e5%8a%a8%e7%aa%97%e5%8f%a3">¶</a></h3><p>一个滑动窗口（长度为 $k$）从数组 $A$ （长度为 $n$）的左端移动到右端，每次只向右移一位.求每次滑动时窗口区中的最大值.</p>
<p>示例（$k=3,n=8$，红色数值在窗口区内）：</p>
<table>
<thead>
<tr>
<th style="text-align:center">$A_1$</th>
<th style="text-align:center">$A_2$</th>
<th style="text-align:center">$A_3$</th>
<th style="text-align:center">$A_4$</th>
<th style="text-align:center">$A_5$</th>
<th style="text-align:center">$A_6$</th>
<th style="text-align:center">$A_7$</th>
<th style="text-align:center">$A_8$</th>
<th style="text-align:center">最大值</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><font color="red"><b>1</td>
<td style="text-align:center"><font color="red"><b>3</td>
<td style="text-align:center"><font color="red"><b>-1</td>
<td style="text-align:center">-3</td>
<td style="text-align:center">5</td>
<td style="text-align:center">3</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center"><b>3</b></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center"><font color="red"><b>3</td>
<td style="text-align:center"><font color="red"><b>-1</td>
<td style="text-align:center"><font color="red"><b>-3</td>
<td style="text-align:center">5</td>
<td style="text-align:center">3</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center"><b>3</b></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">3</td>
<td style="text-align:center"><font color="red"><b>-1</td>
<td style="text-align:center"><font color="red"><b>-3</td>
<td style="text-align:center"><font color="red"><b>5</td>
<td style="text-align:center">3</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center"><b>5</b></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">3</td>
<td style="text-align:center">-1</td>
<td style="text-align:center"><font color="red"><b>-3</td>
<td style="text-align:center"><font color="red"><b>5</td>
<td style="text-align:center"><font color="red"><b>3</td>
<td style="text-align:center">6</td>
<td style="text-align:center">7</td>
<td style="text-align:center"><b>5</b></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">3</td>
<td style="text-align:center">-1</td>
<td style="text-align:center">-3</td>
<td style="text-align:center"><font color="red"><b>5</td>
<td style="text-align:center"><font color="red"><b>3</td>
<td style="text-align:center"><font color="red"><b>6</td>
<td style="text-align:center">7</td>
<td style="text-align:center"><b>6</b></td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">3</td>
<td style="text-align:center">-1</td>
<td style="text-align:center">-3</td>
<td style="text-align:center">5</td>
<td style="text-align:center"><font color="red"><b>3</td>
<td style="text-align:center"><font color="red"><b>6</td>
<td style="text-align:center"><font color="red"><b>7</td>
<td style="text-align:center"><b>7</b></td>
</tr>
</tbody>
</table>
<h4 id="朴素算法">朴素算法 <a class="anchor" href="#%e6%9c%b4%e7%b4%a0%e7%ae%97%e6%b3%95">¶</a></h4><p>枚举 $i=k\rightarrow n$，枚举出区间 $[i-k+1,i]$ 中的最大整数.时间复杂度为 $O(nk)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#728e00">for</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#434f54">k</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
    <span style="color:#00979d">int</span> <span style="color:#434f54">maxn</span> <span style="color:#728e00">=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>];
    <span style="color:#728e00">for</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">j</span> <span style="color:#728e00">=</span> <span style="color:#434f54">i</span> <span style="color:#728e00">-</span> <span style="color:#434f54">k</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">j</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">i</span>; <span style="color:#434f54">j</span> <span style="color:#728e00">++</span>)
        <span style="color:#434f54">maxn</span> <span style="color:#728e00">=</span> <span style="color:#434f54">max</span>(<span style="color:#434f54">maxn</span>, <span style="color:#434f54">a</span>[<span style="color:#434f54">j</span>]);
    <span style="color:#434f54">cout</span> <span style="color:#728e00">&lt;&lt;</span> <span style="color:#434f54">maxn</span> <span style="color:#728e00">&lt;&lt;</span> <span style="color:#7f8c8d">&#39; &#39;</span>;
}
</code></pre></div><h4 id="单调队列优化">单调队列优化 <a class="anchor" href="#%e5%8d%95%e8%b0%83%e9%98%9f%e5%88%97%e4%bc%98%e5%8c%96">¶</a></h4><p>使用单调递减队列优化「查找区间 $[i-k+1,i]$ 中的最大整数」的效率.时间复杂度为 $O(n)$.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#434f54">deque</span><span style="color:#728e00">&lt;</span><span style="color:#00979d">int</span><span style="color:#728e00">&gt;</span> <span style="color:#434f54">q</span>;

<span style="color:#00979d">void</span> <span style="color:#d35400">insert</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">i</span>, <span style="color:#00979d">int</span> <span style="color:#434f54">p</span>) {
    <span style="color:#728e00">while</span>(<span style="color:#728e00">!</span><span style="color:#434f54">q</span>.<span style="color:#434f54">empty</span>() <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">q</span>.<span style="color:#434f54">front</span>() <span style="color:#728e00">&lt;</span> <span style="color:#434f54">p</span>) <span style="color:#434f54">q</span>.<span style="color:#434f54">pop_front</span>();
    <span style="color:#728e00">while</span>(<span style="color:#728e00">!</span><span style="color:#434f54">q</span>.<span style="color:#434f54">empty</span>() <span style="color:#728e00">&amp;&amp;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">q</span>.<span style="color:#434f54">back</span>()] <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">i</span>]) <span style="color:#434f54">q</span>.<span style="color:#434f54">pop_back</span>();
    <span style="color:#434f54">q</span>.<span style="color:#434f54">push_back</span>(<span style="color:#434f54">i</span>);
}

<span style="color:#728e00">for</span>(<span style="color:#00979d">int</span> <span style="color:#434f54">i</span> <span style="color:#728e00">=</span> <span style="color:#8a7b52">1</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">&lt;=</span> <span style="color:#434f54">n</span>; <span style="color:#434f54">i</span> <span style="color:#728e00">++</span>) {
    <span style="color:#434f54">insert</span>(<span style="color:#434f54">i</span>, <span style="color:#434f54">i</span> <span style="color:#728e00">-</span> <span style="color:#434f54">k</span> <span style="color:#728e00">+</span> <span style="color:#8a7b52">1</span>);
    <span style="color:#728e00">if</span>(<span style="color:#434f54">i</span> <span style="color:#728e00">&gt;=</span> <span style="color:#434f54">k</span>) <span style="color:#434f54">cout</span> <span style="color:#728e00">&lt;&lt;</span> <span style="color:#434f54">a</span>[<span style="color:#434f54">q</span>.<span style="color:#434f54">front</span>()] <span style="color:#728e00">&lt;&lt;</span> <span style="color:#7f8c8d">&#39; &#39;</span>;
}
</code></pre></div>
  </article>
  <div class="scroll-to-top">
    <img src="../../../images/scroll-to-top.svg">
  </div>
</div>



  <div class="flex-right">
    <div class="outer">
      
  <div class="inner">
  <h2><img src="../../../images/notice.svg" />Notice</h2>
  <p>Under Construction ...</p>
</div>
  

<div class="inner">
  <h2><img src="../../../images/toc.svg">TOC</h2>
  <nav id="TableOfContents">
  <ul>
    <li><a href="#简介">简介</a></li>
    <li><a href="#双向队列">双向队列</a></li>
    <li><a href="#单调队列">单调队列</a>
      <ul>
        <li><a href="#插入元素">插入元素</a></li>
        <li><a href="#滑动窗口">滑动窗口</a>
          <ul>
            <li><a href="#朴素算法">朴素算法</a></li>
            <li><a href="#单调队列优化">单调队列优化</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
</div>



    </div>
  </div>

  <script src="../../../js/jquery.min.js"></script>


<script defer>















































</script>



<script>
function judgeScroll() {
  var scrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;
  var scrollToTop = document.getElementsByClassName("scroll-to-top")[0];
  if (scrollTop <= 50) {
    scrollToTop.style.display = 'none';
  } else {
    scrollToTop.style.display = 'block';
  }
}
window.addEventListener("scroll", function(event) {
  judgeScroll();
});
$(".scroll-to-top").click(function() {
  $(window).scrollTop(true);
});
judgeScroll();
</script>





<link rel="stylesheet" href="../../../katex/katex.min.css">
<script src="../../../katex/katex.min.js"></script>
<script src="../../../katex/auto-render.min.js"></script>

<script>
  function renderTex() {
    renderMathInElement(document.body, {
      trust: true,
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false }
      ],
      macros: {
        
        "\\d": "\\text{d}",
        "\\zh": "\\footnotesize \\ ",
        "\\en": "\\normalsize \\ ",
        "\\su": "\\displaystyle",
        "\\eq": "\\Longleftrightarrow",
        "\\intro": "\\Longrightarrow",
        "\\mathring": "\\overset\{\\normalsizeₒ\}",
        "\\arccot": "\\text\{arccot\} \\, ",
        "\\xor": "\\text\{xor\} \\, ",
        "\\mex": "\\text\{mex\} \\, "
      }
    });
  }  
  document.addEventListener("DOMContentLoaded", function() {
    renderTex();
  });

</script>

<script>
  $('.language-latex').each(function(id, el, arr) {
    function toText(text) { 
      var temp = document.createElement("div"); 
      temp.innerHTML = text; 
      var output = temp.innerText || temp.textContent; 
      temp = null; 
      return output; 
    } 
    tex = toText(el.innerHTML);
    el.parentElement.outerHTML = '<div>$$' + tex + '$$</div>';
  });

  
  
  
  
  
  
</script>

<script>
  Array.from(document.getElementsByTagName("table")).forEach(
    (el) => {
      el.outerHTML = `<div class="md__table">${el.outerHTML}</div>`;
    }
  );
</script>



<script src="../../../js/mermaid.min.js"></script>

<script>
  mermaid.initialize({
    
    themeCSS: ".node rect { \
      fill: transparent;    \
      stroke: transparent;  \
    }                       \
    .nodeLabel {            \
      font-size: 24px;      \
    }",
    startOnLoad: true,
    flowchart: {
      curve: 'cardinal'
    },
    securityLevel: 'loose',
  });
</script>

<script>
  Array.from(document.getElementsByClassName("language-mermaid")).forEach(
    (el) => {
      el.parentElement.outerHTML = `<div class="mermaid">${el.innerText}</div>`;
    }
  );
</script>

  
</main>
</body>
</html>